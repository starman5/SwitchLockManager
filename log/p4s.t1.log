Warning: you requested the nanomsg event logger, but bmv2 was compiled without -DBMELOG, and the event logger cannot be activated
Calling target program-options parser
[13:32:17.708] [bmv2] [D] [thread 77752] Set default default entry for table 'tbl_netlock169': netlock169 - 
[13:32:17.710] [bmv2] [D] [thread 77752] Set default default entry for table 'tbl_netlock171': netlock171 - 
[13:32:17.711] [bmv2] [D] [thread 77752] Set default default entry for table 'tbl_remove_netlock': MyIngress.remove_netlock - 
[13:32:17.711] [bmv2] [D] [thread 77752] Set default default entry for table 'tbl_swap_ip': MyIngress.swap_ip - 
[13:32:17.711] [bmv2] [D] [thread 77752] Set default default entry for table 'tbl_swap_udp': MyIngress.swap_udp - 
[13:32:17.711] [bmv2] [D] [thread 77752] Set default default entry for table 'tbl_push_queue': MyIngress.push_queue - 
[13:32:17.711] [bmv2] [D] [thread 77752] Set default default entry for table 'tbl_remove_netlock_0': MyIngress.remove_netlock - 
[13:32:17.711] [bmv2] [D] [thread 77752] Set default default entry for table 'tbl_netlock186': netlock186 - 
[13:32:17.711] [bmv2] [D] [thread 77752] Set default default entry for table 'tbl_netlock191': netlock191 - 
[13:32:17.711] [bmv2] [D] [thread 77752] Set default default entry for table 'tbl_netlock195': netlock195 - 
[13:32:17.711] [bmv2] [D] [thread 77752] Set default default entry for table 'tbl_remove_netlock_1': MyIngress.remove_netlock - 
[13:32:17.711] [bmv2] [D] [thread 77752] Set default default entry for table 'tbl_set_next_ip': MyIngress.set_next_ip - 
[13:32:17.711] [bmv2] [D] [thread 77752] Set default default entry for table 'tbl_set_next_udp': MyIngress.set_next_udp - 
[13:32:17.711] [bmv2] [D] [thread 77752] Set default default entry for table 'tbl_pop_queue': MyIngress.pop_queue - 
[13:32:17.711] [bmv2] [D] [thread 77752] Set default default entry for table 'tbl_remove_netlock_2': MyIngress.remove_netlock - 
[13:32:17.711] [bmv2] [D] [thread 77752] Set default default entry for table 'MyIngress.ipv4_lpm': NoAction - 
Adding interface t1-eth1 as port 1
[13:32:17.716] [bmv2] [D] [thread 77752] Adding interface t1-eth1 as port 1
Adding interface t1-eth2 as port 2
[13:32:17.749] [bmv2] [D] [thread 77752] Adding interface t1-eth2 as port 2
Adding interface t1-eth3 as port 3
[13:32:17.776] [bmv2] [D] [thread 77752] Adding interface t1-eth3 as port 3
[13:32:17.800] [bmv2] [I] [thread 77752] Starting Thrift server on port 9090
[13:32:17.801] [bmv2] [I] [thread 77752] Thrift server was started
[13:32:17.802] [bmv2] [D] [thread 77765] [0.0] [cxt 0] Processing packet received on port 2
[13:32:17.802] [bmv2] [D] [thread 77765] [0.0] [cxt 0] Parser 'parser': start
[13:32:17.802] [bmv2] [D] [thread 77765] [0.0] [cxt 0] Parser 'parser' entering state 'start'
[13:32:17.802] [bmv2] [D] [thread 77765] [0.0] [cxt 0] Extracting header 'ethernet'
[13:32:17.802] [bmv2] [D] [thread 77765] [0.0] [cxt 0] Parser state 'start': key is 86dd
[13:32:17.802] [bmv2] [T] [thread 77765] [0.0] [cxt 0] Bytes parsed: 14
[13:32:17.802] [bmv2] [D] [thread 77765] [0.0] [cxt 0] Parser 'parser': end
[13:32:17.802] [bmv2] [D] [thread 77765] [0.0] [cxt 0] Pipeline 'ingress': start
[13:32:17.802] [bmv2] [T] [thread 77765] [0.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(163) Condition "hdr.ipv4.isValid()" (node_2) is false
[13:32:17.802] [bmv2] [D] [thread 77765] [0.0] [cxt 0] Pipeline 'ingress': end
[13:32:17.802] [bmv2] [D] [thread 77765] [0.0] [cxt 0] Egress port is 0
[13:32:17.802] [bmv2] [D] [thread 77766] [0.0] [cxt 0] Pipeline 'egress': start
[13:32:17.802] [bmv2] [D] [thread 77766] [0.0] [cxt 0] Pipeline 'egress': end
[13:32:17.802] [bmv2] [D] [thread 77766] [0.0] [cxt 0] Deparser 'deparser': start
[13:32:17.802] [bmv2] [T] [thread 77766] [0.0] [cxt 0] Skipping checksum 'cksum' update because condition not met
[13:32:17.802] [bmv2] [D] [thread 77766] [0.0] [cxt 0] Deparsing header 'ethernet'
[13:32:17.803] [bmv2] [D] [thread 77766] [0.0] [cxt 0] Deparser 'deparser': end
[13:32:17.803] [bmv2] [D] [thread 77770] [0.0] [cxt 0] Transmitting packet of size 86 out of port 0
[13:32:18.549] [bmv2] [T] [thread 77809] bm_get_config
[13:32:18.558] [bmv2] [T] [thread 77809] bm_mt_get_entries
[13:32:18.559] [bmv2] [T] [thread 77809] bm_reset_state
[13:32:18.599] [bmv2] [D] [thread 77809] Resetting simple_switch target-specific state
[13:32:18.600] [bmv2] [D] [thread 77809] resetting PRE state
[13:32:18.601] [bmv2] [T] [thread 77809] bm_set_default_action
[13:32:18.601] [bmv2] [D] [thread 77809] Set default entry for table 'MyIngress.ipv4_lpm': MyIngress.drop - 
[13:32:18.604] [bmv2] [T] [thread 77809] bm_table_add_entry
[13:32:18.605] [bmv2] [D] [thread 77809] Entry 0 added to table 'MyIngress.ipv4_lpm'
[13:32:18.605] [bmv2] [D] [thread 77809] Dumping entry 0
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010102/32
Action entry: MyIngress.set_nhop - a010102,1,

[13:32:18.606] [bmv2] [T] [thread 77809] bm_table_add_entry
[13:32:18.606] [bmv2] [D] [thread 77809] Entry 1 added to table 'MyIngress.ipv4_lpm'
[13:32:18.606] [bmv2] [D] [thread 77809] Dumping entry 1
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010202/32
Action entry: MyIngress.set_nhop - a010202,2,

[13:32:18.607] [bmv2] [T] [thread 77809] bm_table_add_entry
[13:32:18.608] [bmv2] [D] [thread 77809] Entry 2 added to table 'MyIngress.ipv4_lpm'
[13:32:18.608] [bmv2] [D] [thread 77809] Dumping entry 2
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010302/32
Action entry: MyIngress.set_nhop - a010302,3,

[13:32:51.948] [bmv2] [T] [thread 77871] bm_get_config
[13:32:51.951] [bmv2] [T] [thread 77871] bm_mt_get_entries
[13:32:51.953] [bmv2] [T] [thread 77871] bm_reset_state
[13:32:51.967] [bmv2] [D] [thread 77871] Resetting simple_switch target-specific state
[13:32:51.967] [bmv2] [D] [thread 77871] resetting PRE state
[13:32:51.967] [bmv2] [T] [thread 77871] bm_set_default_action
[13:32:51.968] [bmv2] [D] [thread 77871] Set default entry for table 'MyIngress.ipv4_lpm': MyIngress.drop - 
[13:32:51.968] [bmv2] [T] [thread 77871] bm_table_add_entry
[13:32:51.968] [bmv2] [D] [thread 77871] Entry 0 added to table 'MyIngress.ipv4_lpm'
[13:32:51.969] [bmv2] [D] [thread 77871] Dumping entry 0
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010102/32
Action entry: MyIngress.set_nhop - a010102,1,

[13:32:51.969] [bmv2] [T] [thread 77871] bm_table_add_entry
[13:32:51.969] [bmv2] [D] [thread 77871] Entry 1 added to table 'MyIngress.ipv4_lpm'
[13:32:51.969] [bmv2] [D] [thread 77871] Dumping entry 1
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010202/32
Action entry: MyIngress.set_nhop - a010202,2,

[13:32:51.970] [bmv2] [T] [thread 77871] bm_table_add_entry
[13:32:51.970] [bmv2] [D] [thread 77871] Entry 2 added to table 'MyIngress.ipv4_lpm'
[13:32:51.970] [bmv2] [D] [thread 77871] Dumping entry 2
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010302/32
Action entry: MyIngress.set_nhop - a010302,3,

[13:33:40.804] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Processing packet received on port 1
[13:33:40.804] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Parser 'parser': start
[13:33:40.804] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Parser 'parser' entering state 'start'
[13:33:40.804] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Extracting header 'ethernet'
[13:33:40.804] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Parser state 'start': key is 7777
[13:33:40.804] [bmv2] [T] [thread 77765] [1.0] [cxt 0] Bytes parsed: 14
[13:33:40.804] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Parser 'parser' entering state 'parse_netlock'
[13:33:40.804] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Extracting header 'netlock'
[13:33:40.804] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Parser state 'parse_netlock': key is 0000
[13:33:40.804] [bmv2] [T] [thread 77765] [1.0] [cxt 0] Bytes parsed: 16
[13:33:40.804] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Parser 'parser' entering state 'parse_ipv4'
[13:33:40.804] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Extracting header 'ipv4'
[13:33:40.804] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Parser state 'parse_ipv4': key is 11
[13:33:40.804] [bmv2] [T] [thread 77765] [1.0] [cxt 0] Bytes parsed: 36
[13:33:40.804] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Parser 'parser' entering state 'parse_udp'
[13:33:40.804] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Extracting header 'udp'
[13:33:40.804] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Parser state 'parse_udp' has no switch, going to default next state
[13:33:40.804] [bmv2] [T] [thread 77765] [1.0] [cxt 0] Bytes parsed: 44
[13:33:40.804] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Parser 'parser': end
[13:33:40.804] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Pipeline 'ingress': start
[13:33:40.804] [bmv2] [T] [thread 77765] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(163) Condition "hdr.ipv4.isValid()" (node_2) is true
[13:33:40.804] [bmv2] [T] [thread 77765] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(165) Condition "hdr.netlock.isValid() && hdr.udp.isValid()" (node_3) is true
[13:33:40.804] [bmv2] [T] [thread 77765] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(166) Condition "hdr.netlock.act == ACQUIRE" (node_4) is true
[13:33:40.804] [bmv2] [T] [thread 77765] [1.0] [cxt 0] Applying table 'tbl_netlock169'
[13:33:40.804] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Looking up key:

[13:33:40.804] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Table 'tbl_netlock169': miss
[13:33:40.804] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Action entry is netlock169 - 
[13:33:40.804] [bmv2] [T] [thread 77765] [1.0] [cxt 0] Action netlock169
[13:33:40.804] [bmv2] [T] [thread 77765] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(169) Primitive lock_statuses.read(current_status, (bit<32>)0)
[13:33:40.804] [bmv2] [T] [thread 77765] [1.0] [cxt 0] Read register 'MyIngress.lock_statuses' at index 0 read value 0
[13:33:40.804] [bmv2] [T] [thread 77765] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(170) Condition "current_status == UNSET" (node_6) is true
[13:33:40.804] [bmv2] [T] [thread 77765] [1.0] [cxt 0] Applying table 'tbl_netlock171'
[13:33:40.804] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Looking up key:

[13:33:40.804] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Table 'tbl_netlock171': miss
[13:33:40.804] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Action entry is netlock171 - 
[13:33:40.804] [bmv2] [T] [thread 77765] [1.0] [cxt 0] Action netlock171
[13:33:40.804] [bmv2] [T] [thread 77765] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(171) Primitive lock_statuses.write((bit<32>)0, SET)
[13:33:40.804] [bmv2] [T] [thread 77765] [1.0] [cxt 0] Wrote register 'MyIngress.lock_statuses' at index 0 with value 1
[13:33:40.804] [bmv2] [T] [thread 77765] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(172) Primitive acquired_ip.write((bit<32>)0, hdr.ipv4.srcAddr)
[13:33:40.804] [bmv2] [T] [thread 77765] [1.0] [cxt 0] Wrote register 'MyIngress.acquired_ip' at index 0 with value 167837954
[13:33:40.804] [bmv2] [T] [thread 77765] [1.0] [cxt 0] Applying table 'tbl_remove_netlock'
[13:33:40.804] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Looking up key:

[13:33:40.804] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Table 'tbl_remove_netlock': miss
[13:33:40.804] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Action entry is MyIngress.remove_netlock - 
[13:33:40.805] [bmv2] [T] [thread 77765] [1.0] [cxt 0] Action MyIngress.remove_netlock
[13:33:40.805] [bmv2] [T] [thread 77765] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(91) Primitive hdr.netlock.setInvalid()
[13:33:40.805] [bmv2] [T] [thread 77765] [1.0] [cxt 0] /home/p4/project7/p4src/include/headers.p4(5) Primitive 0x800; ...
[13:33:40.805] [bmv2] [T] [thread 77765] [1.0] [cxt 0] Applying table 'tbl_swap_ip'
[13:33:40.805] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Looking up key:

[13:33:40.805] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Table 'tbl_swap_ip': miss
[13:33:40.805] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Action entry is MyIngress.swap_ip - 
[13:33:40.805] [bmv2] [T] [thread 77765] [1.0] [cxt 0] Action MyIngress.swap_ip
[13:33:40.805] [bmv2] [T] [thread 77765] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(98) Primitive ip4Addr_t tmp = hdr.ipv4.srcAddr;
[13:33:40.805] [bmv2] [T] [thread 77765] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(99) Primitive hdr.ipv4.srcAddr = hdr.ipv4.dstAddr
[13:33:40.805] [bmv2] [T] [thread 77765] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(100) Primitive hdr.ipv4.dstAddr = tmp
[13:33:40.805] [bmv2] [T] [thread 77765] [1.0] [cxt 0] Applying table 'tbl_swap_udp'
[13:33:40.805] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Looking up key:

[13:33:40.805] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Table 'tbl_swap_udp': miss
[13:33:40.805] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Action entry is MyIngress.swap_udp - 
[13:33:40.805] [bmv2] [T] [thread 77765] [1.0] [cxt 0] Action MyIngress.swap_udp
[13:33:40.805] [bmv2] [T] [thread 77765] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(108) Primitive hdr.udp.srcPort = hdr.udp.dstPort
[13:33:40.805] [bmv2] [T] [thread 77765] [1.0] [cxt 0] Applying table 'MyIngress.ipv4_lpm'
[13:33:40.805] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Looking up key:
* hdr.ipv4.dstAddr    : 0a010102

[13:33:40.805] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Table 'MyIngress.ipv4_lpm': hit with handle 0
[13:33:40.805] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Dumping entry 0
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010102/32
Action entry: MyIngress.set_nhop - a010102,1,

[13:33:40.805] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Action entry is MyIngress.set_nhop - a010102,1,
[13:33:40.805] [bmv2] [T] [thread 77765] [1.0] [cxt 0] Action MyIngress.set_nhop
[13:33:40.805] [bmv2] [T] [thread 77765] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(52) Primitive hdr.ethernet.srcAddr = hdr.ethernet.dstAddr
[13:33:40.805] [bmv2] [T] [thread 77765] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(55) Primitive hdr.ethernet.dstAddr = dstAddr
[13:33:40.805] [bmv2] [T] [thread 77765] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(57) Primitive standard_metadata.egress_spec = port
[13:33:40.805] [bmv2] [T] [thread 77765] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(60) Primitive hdr.ipv4.ttl = hdr.ipv4.ttl - 1
[13:33:40.805] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Pipeline 'ingress': end
[13:33:40.805] [bmv2] [D] [thread 77765] [1.0] [cxt 0] Egress port is 1
[13:33:40.805] [bmv2] [D] [thread 77767] [1.0] [cxt 0] Pipeline 'egress': start
[13:33:40.805] [bmv2] [D] [thread 77767] [1.0] [cxt 0] Pipeline 'egress': end
[13:33:40.805] [bmv2] [D] [thread 77767] [1.0] [cxt 0] Deparser 'deparser': start
[13:33:40.805] [bmv2] [D] [thread 77767] [1.0] [cxt 0] Updating checksum 'cksum'
[13:33:40.805] [bmv2] [D] [thread 77767] [1.0] [cxt 0] Deparsing header 'ethernet'
[13:33:40.805] [bmv2] [D] [thread 77767] [1.0] [cxt 0] Deparsing header 'ipv4'
[13:33:40.805] [bmv2] [D] [thread 77767] [1.0] [cxt 0] Deparsing header 'udp'
[13:33:40.805] [bmv2] [D] [thread 77767] [1.0] [cxt 0] Deparser 'deparser': end
[13:33:40.805] [bmv2] [D] [thread 77770] [1.0] [cxt 0] Transmitting packet of size 42 out of port 1
[13:33:58.270] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Processing packet received on port 1
[13:33:58.270] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Parser 'parser': start
[13:33:58.270] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Parser 'parser' entering state 'start'
[13:33:58.270] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Extracting header 'ethernet'
[13:33:58.270] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Parser state 'start': key is 7777
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] Bytes parsed: 14
[13:33:58.270] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Parser 'parser' entering state 'parse_netlock'
[13:33:58.270] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Extracting header 'netlock'
[13:33:58.270] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Parser state 'parse_netlock': key is 0000
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] Bytes parsed: 16
[13:33:58.270] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Parser 'parser' entering state 'parse_ipv4'
[13:33:58.270] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Extracting header 'ipv4'
[13:33:58.270] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Parser state 'parse_ipv4': key is 11
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] Bytes parsed: 36
[13:33:58.270] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Parser 'parser' entering state 'parse_udp'
[13:33:58.270] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Extracting header 'udp'
[13:33:58.270] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Parser state 'parse_udp' has no switch, going to default next state
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] Bytes parsed: 44
[13:33:58.270] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Parser 'parser': end
[13:33:58.270] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Pipeline 'ingress': start
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(163) Condition "hdr.ipv4.isValid()" (node_2) is true
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(165) Condition "hdr.netlock.isValid() && hdr.udp.isValid()" (node_3) is true
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(166) Condition "hdr.netlock.act == ACQUIRE" (node_4) is true
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] Applying table 'tbl_netlock169'
[13:33:58.270] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Looking up key:

[13:33:58.270] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Table 'tbl_netlock169': miss
[13:33:58.270] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Action entry is netlock169 - 
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] Action netlock169
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(169) Primitive lock_statuses.read(current_status, (bit<32>)0)
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] Read register 'MyIngress.lock_statuses' at index 0 read value 1
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(170) Condition "current_status == UNSET" (node_6) is false
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] Applying table 'tbl_push_queue'
[13:33:58.270] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Looking up key:

[13:33:58.270] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Table 'tbl_push_queue': miss
[13:33:58.270] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Action entry is MyIngress.push_queue - 
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] Action MyIngress.push_queue
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(71) Primitive queue_tails.read(tail, (bit<32>)0)
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] Read register 'MyIngress.queue_tails' at index 0 read value 0
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(72) Primitive lock_queue_ip.write(tail, hdr.ipv4.srcAddr)
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] Wrote register 'MyIngress.lock_queue_ip' at index 0 with value 167837954
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(73) Primitive lock_queue_udp.write(tail, hdr.udp.srcPort)
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] Wrote register 'MyIngress.lock_queue_udp' at index 0 with value 44130
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(74) Primitive tail = (tail + 1) % QueueSize
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(75) Primitive queue_tails.write((bit<32>)0, tail)
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] Wrote register 'MyIngress.queue_tails' at index 0 with value 1
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] Applying table 'tbl_remove_netlock_0'
[13:33:58.270] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Looking up key:

[13:33:58.270] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Table 'tbl_remove_netlock_0': miss
[13:33:58.270] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Action entry is MyIngress.remove_netlock - 
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] Action MyIngress.remove_netlock
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(91) Primitive hdr.netlock.setInvalid()
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] /home/p4/project7/p4src/include/headers.p4(5) Primitive 0x800; ...
[13:33:58.270] [bmv2] [T] [thread 77765] [2.0] [cxt 0] Applying table 'MyIngress.ipv4_lpm'
[13:33:58.271] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Looking up key:
* hdr.ipv4.dstAddr    : 0a010202

[13:33:58.271] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Table 'MyIngress.ipv4_lpm': hit with handle 1
[13:33:58.271] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Dumping entry 1
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010202/32
Action entry: MyIngress.set_nhop - a010202,2,

[13:33:58.271] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Action entry is MyIngress.set_nhop - a010202,2,
[13:33:58.271] [bmv2] [T] [thread 77765] [2.0] [cxt 0] Action MyIngress.set_nhop
[13:33:58.271] [bmv2] [T] [thread 77765] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(52) Primitive hdr.ethernet.srcAddr = hdr.ethernet.dstAddr
[13:33:58.271] [bmv2] [T] [thread 77765] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(55) Primitive hdr.ethernet.dstAddr = dstAddr
[13:33:58.271] [bmv2] [T] [thread 77765] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(57) Primitive standard_metadata.egress_spec = port
[13:33:58.271] [bmv2] [T] [thread 77765] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(60) Primitive hdr.ipv4.ttl = hdr.ipv4.ttl - 1
[13:33:58.271] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Pipeline 'ingress': end
[13:33:58.271] [bmv2] [D] [thread 77765] [2.0] [cxt 0] Egress port is 2
[13:33:58.271] [bmv2] [D] [thread 77768] [2.0] [cxt 0] Pipeline 'egress': start
[13:33:58.271] [bmv2] [D] [thread 77768] [2.0] [cxt 0] Pipeline 'egress': end
[13:33:58.271] [bmv2] [D] [thread 77768] [2.0] [cxt 0] Deparser 'deparser': start
[13:33:58.271] [bmv2] [D] [thread 77768] [2.0] [cxt 0] Updating checksum 'cksum'
[13:33:58.271] [bmv2] [D] [thread 77768] [2.0] [cxt 0] Deparsing header 'ethernet'
[13:33:58.271] [bmv2] [D] [thread 77768] [2.0] [cxt 0] Deparsing header 'ipv4'
[13:33:58.271] [bmv2] [D] [thread 77768] [2.0] [cxt 0] Deparsing header 'udp'
[13:33:58.271] [bmv2] [D] [thread 77768] [2.0] [cxt 0] Deparser 'deparser': end
[13:33:58.272] [bmv2] [D] [thread 77770] [2.0] [cxt 0] Transmitting packet of size 42 out of port 2
[13:33:58.273] [bmv2] [D] [thread 77765] [3.0] [cxt 0] Processing packet received on port 2
[13:33:58.273] [bmv2] [D] [thread 77765] [3.0] [cxt 0] Parser 'parser': start
[13:33:58.273] [bmv2] [D] [thread 77765] [3.0] [cxt 0] Parser 'parser' entering state 'start'
[13:33:58.273] [bmv2] [D] [thread 77765] [3.0] [cxt 0] Extracting header 'ethernet'
[13:33:58.273] [bmv2] [D] [thread 77765] [3.0] [cxt 0] Parser state 'start': key is 0800
[13:33:58.273] [bmv2] [T] [thread 77765] [3.0] [cxt 0] Bytes parsed: 14
[13:33:58.273] [bmv2] [D] [thread 77765] [3.0] [cxt 0] Parser 'parser' entering state 'parse_ipv4'
[13:33:58.273] [bmv2] [D] [thread 77765] [3.0] [cxt 0] Extracting header 'ipv4'
[13:33:58.273] [bmv2] [D] [thread 77765] [3.0] [cxt 0] Parser state 'parse_ipv4': key is 01
[13:33:58.273] [bmv2] [T] [thread 77765] [3.0] [cxt 0] Bytes parsed: 34
[13:33:58.273] [bmv2] [D] [thread 77765] [3.0] [cxt 0] Parser 'parser': end
[13:33:58.274] [bmv2] [D] [thread 77765] [3.0] [cxt 0] Pipeline 'ingress': start
[13:33:58.274] [bmv2] [T] [thread 77765] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(163) Condition "hdr.ipv4.isValid()" (node_2) is true
[13:33:58.274] [bmv2] [T] [thread 77765] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(165) Condition "hdr.netlock.isValid() && hdr.udp.isValid()" (node_3) is false
[13:33:58.274] [bmv2] [T] [thread 77765] [3.0] [cxt 0] Applying table 'MyIngress.ipv4_lpm'
[13:33:58.274] [bmv2] [D] [thread 77765] [3.0] [cxt 0] Looking up key:
* hdr.ipv4.dstAddr    : 0a010102

[13:33:58.274] [bmv2] [D] [thread 77765] [3.0] [cxt 0] Table 'MyIngress.ipv4_lpm': hit with handle 0
[13:33:58.274] [bmv2] [D] [thread 77765] [3.0] [cxt 0] Dumping entry 0
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010102/32
Action entry: MyIngress.set_nhop - a010102,1,

[13:33:58.274] [bmv2] [D] [thread 77765] [3.0] [cxt 0] Action entry is MyIngress.set_nhop - a010102,1,
[13:33:58.274] [bmv2] [T] [thread 77765] [3.0] [cxt 0] Action MyIngress.set_nhop
[13:33:58.274] [bmv2] [T] [thread 77765] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(52) Primitive hdr.ethernet.srcAddr = hdr.ethernet.dstAddr
[13:33:58.274] [bmv2] [T] [thread 77765] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(55) Primitive hdr.ethernet.dstAddr = dstAddr
[13:33:58.274] [bmv2] [T] [thread 77765] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(57) Primitive standard_metadata.egress_spec = port
[13:33:58.274] [bmv2] [T] [thread 77765] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(60) Primitive hdr.ipv4.ttl = hdr.ipv4.ttl - 1
[13:33:58.274] [bmv2] [D] [thread 77765] [3.0] [cxt 0] Pipeline 'ingress': end
[13:33:58.274] [bmv2] [D] [thread 77765] [3.0] [cxt 0] Egress port is 1
[13:33:58.275] [bmv2] [D] [thread 77767] [3.0] [cxt 0] Pipeline 'egress': start
[13:33:58.275] [bmv2] [D] [thread 77767] [3.0] [cxt 0] Pipeline 'egress': end
[13:33:58.275] [bmv2] [D] [thread 77767] [3.0] [cxt 0] Deparser 'deparser': start
[13:33:58.275] [bmv2] [D] [thread 77767] [3.0] [cxt 0] Updating checksum 'cksum'
[13:33:58.275] [bmv2] [D] [thread 77767] [3.0] [cxt 0] Deparsing header 'ethernet'
[13:33:58.275] [bmv2] [D] [thread 77767] [3.0] [cxt 0] Deparsing header 'ipv4'
[13:33:58.275] [bmv2] [D] [thread 77767] [3.0] [cxt 0] Deparser 'deparser': end
[13:33:58.275] [bmv2] [D] [thread 77770] [3.0] [cxt 0] Transmitting packet of size 70 out of port 1
[13:34:07.198] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Processing packet received on port 1
[13:34:07.198] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Parser 'parser': start
[13:34:07.198] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Parser 'parser' entering state 'start'
[13:34:07.198] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Extracting header 'ethernet'
[13:34:07.198] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Parser state 'start': key is 7777
[13:34:07.198] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Bytes parsed: 14
[13:34:07.198] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Parser 'parser' entering state 'parse_netlock'
[13:34:07.198] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Extracting header 'netlock'
[13:34:07.198] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Parser state 'parse_netlock': key is 0000
[13:34:07.198] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Bytes parsed: 16
[13:34:07.198] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Parser 'parser' entering state 'parse_ipv4'
[13:34:07.198] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Extracting header 'ipv4'
[13:34:07.198] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Parser state 'parse_ipv4': key is 11
[13:34:07.198] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Bytes parsed: 36
[13:34:07.198] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Parser 'parser' entering state 'parse_udp'
[13:34:07.198] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Extracting header 'udp'
[13:34:07.198] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Parser state 'parse_udp' has no switch, going to default next state
[13:34:07.198] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Bytes parsed: 44
[13:34:07.198] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Parser 'parser': end
[13:34:07.198] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Pipeline 'ingress': start
[13:34:07.198] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(163) Condition "hdr.ipv4.isValid()" (node_2) is true
[13:34:07.198] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(165) Condition "hdr.netlock.isValid() && hdr.udp.isValid()" (node_3) is true
[13:34:07.198] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(166) Condition "hdr.netlock.act == ACQUIRE" (node_4) is false
[13:34:07.198] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Applying table 'tbl_netlock186'
[13:34:07.198] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Looking up key:

[13:34:07.198] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Table 'tbl_netlock186': miss
[13:34:07.198] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Action entry is netlock186 - 
[13:34:07.198] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Action netlock186
[13:34:07.198] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(186) Primitive acquired_ip.read(correct_addr, (bit<32>)0)
[13:34:07.198] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Read register 'MyIngress.acquired_ip' at index 0 read value 167837954
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(187) Condition "hdr.ipv4.srcAddr == correct_addr" (node_14) is true
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Applying table 'tbl_netlock191'
[13:34:07.199] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Looking up key:

[13:34:07.199] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Table 'tbl_netlock191': miss
[13:34:07.199] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Action entry is netlock191 - 
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Action netlock191
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(191) Primitive queue_heads.read(head, (bit<32>)0)
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Read register 'MyIngress.queue_heads' at index 0 read value 0
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(192) Primitive queue_tails.read(tail, (bit<32>)0)
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Read register 'MyIngress.queue_tails' at index 0 read value 1
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(193) Condition "head == tail" (node_16) is false
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Applying table 'tbl_set_next_ip'
[13:34:07.199] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Looking up key:

[13:34:07.199] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Table 'tbl_set_next_ip': miss
[13:34:07.199] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Action entry is MyIngress.set_next_ip - 
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Action MyIngress.set_next_ip
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(118) Primitive queue_heads.read(head, (bit<32>)0)
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Read register 'MyIngress.queue_heads' at index 0 read value 0
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(120) Primitive lock_queue_ip.read(hostAddr, head)
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Read register 'MyIngress.lock_queue_ip' at index 0 read value 167837954
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(123) Primitive acquired_ip.write((bit<32>)0, hostAddr)
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Wrote register 'MyIngress.acquired_ip' at index 0 with value 167837954
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(126) Primitive hdr.ipv4.srcAddr = hdr.ipv4.dstAddr
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(127) Primitive hdr.ipv4.dstAddr = hostAddr
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Applying table 'tbl_set_next_udp'
[13:34:07.199] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Looking up key:

[13:34:07.199] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Table 'tbl_set_next_udp': miss
[13:34:07.199] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Action entry is MyIngress.set_next_udp - 
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Action MyIngress.set_next_udp
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(134) Primitive queue_heads.read(head, (bit<32>)0)
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Read register 'MyIngress.queue_heads' at index 0 read value 0
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(135) Primitive lock_queue_udp.read(hostPort, head)
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Read register 'MyIngress.lock_queue_udp' at index 0 read value 44130
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(137) Primitive hdr.udp.srcPort = hdr.udp.dstPort
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(138) Primitive hdr.udp.dstPort = hostPort
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Applying table 'tbl_pop_queue'
[13:34:07.199] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Looking up key:

[13:34:07.199] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Table 'tbl_pop_queue': miss
[13:34:07.199] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Action entry is MyIngress.pop_queue - 
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Action MyIngress.pop_queue
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(82) Primitive queue_heads.read(head, (bit<32>)0)
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Read register 'MyIngress.queue_heads' at index 0 read value 0
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(84) Primitive lock_queue_ip.write(head, (bit<32>)0)
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Wrote register 'MyIngress.lock_queue_ip' at index 0 with value 0
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(85) Primitive lock_queue_udp.write(head, (bit<16>)0)
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Wrote register 'MyIngress.lock_queue_udp' at index 0 with value 0
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(86) Primitive head = (head + 1) % QueueSize
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(87) Primitive queue_heads.write((bit<32>)0, head)
[13:34:07.199] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Wrote register 'MyIngress.queue_heads' at index 0 with value 1
[13:34:07.200] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Applying table 'tbl_remove_netlock_2'
[13:34:07.200] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Looking up key:

[13:34:07.200] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Table 'tbl_remove_netlock_2': miss
[13:34:07.200] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Action entry is MyIngress.remove_netlock - 
[13:34:07.200] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Action MyIngress.remove_netlock
[13:34:07.200] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(91) Primitive hdr.netlock.setInvalid()
[13:34:07.200] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/include/headers.p4(5) Primitive 0x800; ...
[13:34:07.200] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Applying table 'MyIngress.ipv4_lpm'
[13:34:07.200] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Looking up key:
* hdr.ipv4.dstAddr    : 0a010102

[13:34:07.200] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Table 'MyIngress.ipv4_lpm': hit with handle 0
[13:34:07.200] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Dumping entry 0
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010102/32
Action entry: MyIngress.set_nhop - a010102,1,

[13:34:07.200] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Action entry is MyIngress.set_nhop - a010102,1,
[13:34:07.200] [bmv2] [T] [thread 77765] [4.0] [cxt 0] Action MyIngress.set_nhop
[13:34:07.200] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(52) Primitive hdr.ethernet.srcAddr = hdr.ethernet.dstAddr
[13:34:07.200] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(55) Primitive hdr.ethernet.dstAddr = dstAddr
[13:34:07.200] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(57) Primitive standard_metadata.egress_spec = port
[13:34:07.200] [bmv2] [T] [thread 77765] [4.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(60) Primitive hdr.ipv4.ttl = hdr.ipv4.ttl - 1
[13:34:07.200] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Pipeline 'ingress': end
[13:34:07.200] [bmv2] [D] [thread 77765] [4.0] [cxt 0] Egress port is 1
[13:34:07.200] [bmv2] [D] [thread 77767] [4.0] [cxt 0] Pipeline 'egress': start
[13:34:07.200] [bmv2] [D] [thread 77767] [4.0] [cxt 0] Pipeline 'egress': end
[13:34:07.200] [bmv2] [D] [thread 77767] [4.0] [cxt 0] Deparser 'deparser': start
[13:34:07.200] [bmv2] [D] [thread 77767] [4.0] [cxt 0] Updating checksum 'cksum'
[13:34:07.200] [bmv2] [D] [thread 77767] [4.0] [cxt 0] Deparsing header 'ethernet'
[13:34:07.200] [bmv2] [D] [thread 77767] [4.0] [cxt 0] Deparsing header 'ipv4'
[13:34:07.200] [bmv2] [D] [thread 77767] [4.0] [cxt 0] Deparsing header 'udp'
[13:34:07.200] [bmv2] [D] [thread 77767] [4.0] [cxt 0] Deparser 'deparser': end
[13:34:07.200] [bmv2] [D] [thread 77770] [4.0] [cxt 0] Transmitting packet of size 42 out of port 1
[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Processing packet received on port 1
[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Parser 'parser': start
[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Parser 'parser' entering state 'start'
[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Extracting header 'ethernet'
[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Parser state 'start': key is 7777
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] Bytes parsed: 14
[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Parser 'parser' entering state 'parse_netlock'
[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Extracting header 'netlock'
[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Parser state 'parse_netlock': key is 0000
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] Bytes parsed: 16
[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Parser 'parser' entering state 'parse_ipv4'
[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Extracting header 'ipv4'
[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Parser state 'parse_ipv4': key is 11
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] Bytes parsed: 36
[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Parser 'parser' entering state 'parse_udp'
[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Extracting header 'udp'
[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Parser state 'parse_udp' has no switch, going to default next state
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] Bytes parsed: 44
[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Parser 'parser': end
[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Pipeline 'ingress': start
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(163) Condition "hdr.ipv4.isValid()" (node_2) is true
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(165) Condition "hdr.netlock.isValid() && hdr.udp.isValid()" (node_3) is true
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(166) Condition "hdr.netlock.act == ACQUIRE" (node_4) is false
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] Applying table 'tbl_netlock186'
[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Looking up key:

[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Table 'tbl_netlock186': miss
[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Action entry is netlock186 - 
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] Action netlock186
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(186) Primitive acquired_ip.read(correct_addr, (bit<32>)0)
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] Read register 'MyIngress.acquired_ip' at index 0 read value 167837954
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(187) Condition "hdr.ipv4.srcAddr == correct_addr" (node_14) is true
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] Applying table 'tbl_netlock191'
[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Looking up key:

[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Table 'tbl_netlock191': miss
[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Action entry is netlock191 - 
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] Action netlock191
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(191) Primitive queue_heads.read(head, (bit<32>)0)
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] Read register 'MyIngress.queue_heads' at index 0 read value 1
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(192) Primitive queue_tails.read(tail, (bit<32>)0)
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] Read register 'MyIngress.queue_tails' at index 0 read value 1
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(193) Condition "head == tail" (node_16) is true
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] Applying table 'tbl_netlock195'
[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Looking up key:

[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Table 'tbl_netlock195': miss
[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Action entry is netlock195 - 
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] Action netlock195
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(195) Primitive lock_statuses.write((bit<32>)0, UNSET)
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] Wrote register 'MyIngress.lock_statuses' at index 0 with value 0
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] Applying table 'tbl_remove_netlock_1'
[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Looking up key:

[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Table 'tbl_remove_netlock_1': miss
[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Action entry is MyIngress.remove_netlock - 
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] Action MyIngress.remove_netlock
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(91) Primitive hdr.netlock.setInvalid()
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] /home/p4/project7/p4src/include/headers.p4(5) Primitive 0x800; ...
[13:34:53.923] [bmv2] [T] [thread 77765] [5.0] [cxt 0] Applying table 'MyIngress.ipv4_lpm'
[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Looking up key:
* hdr.ipv4.dstAddr    : 0a010202

[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Table 'MyIngress.ipv4_lpm': hit with handle 1
[13:34:53.923] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Dumping entry 1
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010202/32
Action entry: MyIngress.set_nhop - a010202,2,

[13:34:53.924] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Action entry is MyIngress.set_nhop - a010202,2,
[13:34:53.924] [bmv2] [T] [thread 77765] [5.0] [cxt 0] Action MyIngress.set_nhop
[13:34:53.924] [bmv2] [T] [thread 77765] [5.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(52) Primitive hdr.ethernet.srcAddr = hdr.ethernet.dstAddr
[13:34:53.924] [bmv2] [T] [thread 77765] [5.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(55) Primitive hdr.ethernet.dstAddr = dstAddr
[13:34:53.924] [bmv2] [T] [thread 77765] [5.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(57) Primitive standard_metadata.egress_spec = port
[13:34:53.924] [bmv2] [T] [thread 77765] [5.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(60) Primitive hdr.ipv4.ttl = hdr.ipv4.ttl - 1
[13:34:53.924] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Pipeline 'ingress': end
[13:34:53.924] [bmv2] [D] [thread 77765] [5.0] [cxt 0] Egress port is 2
[13:34:53.924] [bmv2] [D] [thread 77768] [5.0] [cxt 0] Pipeline 'egress': start
[13:34:53.924] [bmv2] [D] [thread 77768] [5.0] [cxt 0] Pipeline 'egress': end
[13:34:53.924] [bmv2] [D] [thread 77768] [5.0] [cxt 0] Deparser 'deparser': start
[13:34:53.924] [bmv2] [D] [thread 77768] [5.0] [cxt 0] Updating checksum 'cksum'
[13:34:53.924] [bmv2] [D] [thread 77768] [5.0] [cxt 0] Deparsing header 'ethernet'
[13:34:53.924] [bmv2] [D] [thread 77768] [5.0] [cxt 0] Deparsing header 'ipv4'
[13:34:53.924] [bmv2] [D] [thread 77768] [5.0] [cxt 0] Deparsing header 'udp'
[13:34:53.924] [bmv2] [D] [thread 77768] [5.0] [cxt 0] Deparser 'deparser': end
[13:34:53.924] [bmv2] [D] [thread 77770] [5.0] [cxt 0] Transmitting packet of size 42 out of port 2
[13:34:53.924] [bmv2] [D] [thread 77765] [6.0] [cxt 0] Processing packet received on port 2
[13:34:53.924] [bmv2] [D] [thread 77765] [6.0] [cxt 0] Parser 'parser': start
[13:34:53.924] [bmv2] [D] [thread 77765] [6.0] [cxt 0] Parser 'parser' entering state 'start'
[13:34:53.924] [bmv2] [D] [thread 77765] [6.0] [cxt 0] Extracting header 'ethernet'
[13:34:53.924] [bmv2] [D] [thread 77765] [6.0] [cxt 0] Parser state 'start': key is 0800
[13:34:53.924] [bmv2] [T] [thread 77765] [6.0] [cxt 0] Bytes parsed: 14
[13:34:53.924] [bmv2] [D] [thread 77765] [6.0] [cxt 0] Parser 'parser' entering state 'parse_ipv4'
[13:34:53.924] [bmv2] [D] [thread 77765] [6.0] [cxt 0] Extracting header 'ipv4'
[13:34:53.924] [bmv2] [D] [thread 77765] [6.0] [cxt 0] Parser state 'parse_ipv4': key is 01
[13:34:53.924] [bmv2] [T] [thread 77765] [6.0] [cxt 0] Bytes parsed: 34
[13:34:53.924] [bmv2] [D] [thread 77765] [6.0] [cxt 0] Parser 'parser': end
[13:34:53.924] [bmv2] [D] [thread 77765] [6.0] [cxt 0] Pipeline 'ingress': start
[13:34:53.924] [bmv2] [T] [thread 77765] [6.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(163) Condition "hdr.ipv4.isValid()" (node_2) is true
[13:34:53.924] [bmv2] [T] [thread 77765] [6.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(165) Condition "hdr.netlock.isValid() && hdr.udp.isValid()" (node_3) is false
[13:34:53.924] [bmv2] [T] [thread 77765] [6.0] [cxt 0] Applying table 'MyIngress.ipv4_lpm'
[13:34:53.924] [bmv2] [D] [thread 77765] [6.0] [cxt 0] Looking up key:
* hdr.ipv4.dstAddr    : 0a010102

[13:34:53.924] [bmv2] [D] [thread 77765] [6.0] [cxt 0] Table 'MyIngress.ipv4_lpm': hit with handle 0
[13:34:53.924] [bmv2] [D] [thread 77765] [6.0] [cxt 0] Dumping entry 0
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010102/32
Action entry: MyIngress.set_nhop - a010102,1,

[13:34:53.924] [bmv2] [D] [thread 77765] [6.0] [cxt 0] Action entry is MyIngress.set_nhop - a010102,1,
[13:34:53.924] [bmv2] [T] [thread 77765] [6.0] [cxt 0] Action MyIngress.set_nhop
[13:34:53.924] [bmv2] [T] [thread 77765] [6.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(52) Primitive hdr.ethernet.srcAddr = hdr.ethernet.dstAddr
[13:34:53.924] [bmv2] [T] [thread 77765] [6.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(55) Primitive hdr.ethernet.dstAddr = dstAddr
[13:34:53.924] [bmv2] [T] [thread 77765] [6.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(57) Primitive standard_metadata.egress_spec = port
[13:34:53.924] [bmv2] [T] [thread 77765] [6.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(60) Primitive hdr.ipv4.ttl = hdr.ipv4.ttl - 1
[13:34:53.924] [bmv2] [D] [thread 77765] [6.0] [cxt 0] Pipeline 'ingress': end
[13:34:53.924] [bmv2] [D] [thread 77765] [6.0] [cxt 0] Egress port is 1
[13:34:53.924] [bmv2] [D] [thread 77767] [6.0] [cxt 0] Pipeline 'egress': start
[13:34:53.924] [bmv2] [D] [thread 77767] [6.0] [cxt 0] Pipeline 'egress': end
[13:34:53.925] [bmv2] [D] [thread 77767] [6.0] [cxt 0] Deparser 'deparser': start
[13:34:53.925] [bmv2] [D] [thread 77767] [6.0] [cxt 0] Updating checksum 'cksum'
[13:34:53.925] [bmv2] [D] [thread 77767] [6.0] [cxt 0] Deparsing header 'ethernet'
[13:34:53.925] [bmv2] [D] [thread 77767] [6.0] [cxt 0] Deparsing header 'ipv4'
[13:34:53.925] [bmv2] [D] [thread 77767] [6.0] [cxt 0] Deparser 'deparser': end
[13:34:53.925] [bmv2] [D] [thread 77770] [6.0] [cxt 0] Transmitting packet of size 70 out of port 1
[13:35:34.731] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Processing packet received on port 2
[13:35:34.731] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Parser 'parser': start
[13:35:34.731] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Parser 'parser' entering state 'start'
[13:35:34.731] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Extracting header 'ethernet'
[13:35:34.731] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Parser state 'start': key is 7777
[13:35:34.731] [bmv2] [T] [thread 77765] [7.0] [cxt 0] Bytes parsed: 14
[13:35:34.731] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Parser 'parser' entering state 'parse_netlock'
[13:35:34.731] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Extracting header 'netlock'
[13:35:34.731] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Parser state 'parse_netlock': key is 0000
[13:35:34.731] [bmv2] [T] [thread 77765] [7.0] [cxt 0] Bytes parsed: 16
[13:35:34.731] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Parser 'parser' entering state 'parse_ipv4'
[13:35:34.731] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Extracting header 'ipv4'
[13:35:34.731] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Parser state 'parse_ipv4': key is 11
[13:35:34.731] [bmv2] [T] [thread 77765] [7.0] [cxt 0] Bytes parsed: 36
[13:35:34.731] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Parser 'parser' entering state 'parse_udp'
[13:35:34.731] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Extracting header 'udp'
[13:35:34.731] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Parser state 'parse_udp' has no switch, going to default next state
[13:35:34.731] [bmv2] [T] [thread 77765] [7.0] [cxt 0] Bytes parsed: 44
[13:35:34.731] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Parser 'parser': end
[13:35:34.731] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Pipeline 'ingress': start
[13:35:34.731] [bmv2] [T] [thread 77765] [7.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(163) Condition "hdr.ipv4.isValid()" (node_2) is true
[13:35:34.731] [bmv2] [T] [thread 77765] [7.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(165) Condition "hdr.netlock.isValid() && hdr.udp.isValid()" (node_3) is true
[13:35:34.731] [bmv2] [T] [thread 77765] [7.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(166) Condition "hdr.netlock.act == ACQUIRE" (node_4) is true
[13:35:34.731] [bmv2] [T] [thread 77765] [7.0] [cxt 0] Applying table 'tbl_netlock169'
[13:35:34.731] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Looking up key:

[13:35:34.731] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Table 'tbl_netlock169': miss
[13:35:34.731] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Action entry is netlock169 - 
[13:35:34.731] [bmv2] [T] [thread 77765] [7.0] [cxt 0] Action netlock169
[13:35:34.731] [bmv2] [T] [thread 77765] [7.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(169) Primitive lock_statuses.read(current_status, (bit<32>)0)
[13:35:34.731] [bmv2] [T] [thread 77765] [7.0] [cxt 0] Read register 'MyIngress.lock_statuses' at index 0 read value 0
[13:35:34.731] [bmv2] [T] [thread 77765] [7.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(170) Condition "current_status == UNSET" (node_6) is true
[13:35:34.731] [bmv2] [T] [thread 77765] [7.0] [cxt 0] Applying table 'tbl_netlock171'
[13:35:34.732] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Looking up key:

[13:35:34.732] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Table 'tbl_netlock171': miss
[13:35:34.732] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Action entry is netlock171 - 
[13:35:34.732] [bmv2] [T] [thread 77765] [7.0] [cxt 0] Action netlock171
[13:35:34.732] [bmv2] [T] [thread 77765] [7.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(171) Primitive lock_statuses.write((bit<32>)0, SET)
[13:35:34.732] [bmv2] [T] [thread 77765] [7.0] [cxt 0] Wrote register 'MyIngress.lock_statuses' at index 0 with value 1
[13:35:34.732] [bmv2] [T] [thread 77765] [7.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(172) Primitive acquired_ip.write((bit<32>)0, hdr.ipv4.srcAddr)
[13:35:34.732] [bmv2] [T] [thread 77765] [7.0] [cxt 0] Wrote register 'MyIngress.acquired_ip' at index 0 with value 167838210
[13:35:34.732] [bmv2] [T] [thread 77765] [7.0] [cxt 0] Applying table 'tbl_remove_netlock'
[13:35:34.732] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Looking up key:

[13:35:34.732] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Table 'tbl_remove_netlock': miss
[13:35:34.732] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Action entry is MyIngress.remove_netlock - 
[13:35:34.732] [bmv2] [T] [thread 77765] [7.0] [cxt 0] Action MyIngress.remove_netlock
[13:35:34.732] [bmv2] [T] [thread 77765] [7.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(91) Primitive hdr.netlock.setInvalid()
[13:35:34.732] [bmv2] [T] [thread 77765] [7.0] [cxt 0] /home/p4/project7/p4src/include/headers.p4(5) Primitive 0x800; ...
[13:35:34.732] [bmv2] [T] [thread 77765] [7.0] [cxt 0] Applying table 'tbl_swap_ip'
[13:35:34.732] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Looking up key:

[13:35:34.732] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Table 'tbl_swap_ip': miss
[13:35:34.732] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Action entry is MyIngress.swap_ip - 
[13:35:34.732] [bmv2] [T] [thread 77765] [7.0] [cxt 0] Action MyIngress.swap_ip
[13:35:34.732] [bmv2] [T] [thread 77765] [7.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(98) Primitive ip4Addr_t tmp = hdr.ipv4.srcAddr;
[13:35:34.732] [bmv2] [T] [thread 77765] [7.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(99) Primitive hdr.ipv4.srcAddr = hdr.ipv4.dstAddr
[13:35:34.732] [bmv2] [T] [thread 77765] [7.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(100) Primitive hdr.ipv4.dstAddr = tmp
[13:35:34.732] [bmv2] [T] [thread 77765] [7.0] [cxt 0] Applying table 'tbl_swap_udp'
[13:35:34.732] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Looking up key:

[13:35:34.732] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Table 'tbl_swap_udp': miss
[13:35:34.732] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Action entry is MyIngress.swap_udp - 
[13:35:34.732] [bmv2] [T] [thread 77765] [7.0] [cxt 0] Action MyIngress.swap_udp
[13:35:34.732] [bmv2] [T] [thread 77765] [7.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(108) Primitive hdr.udp.srcPort = hdr.udp.dstPort
[13:35:34.732] [bmv2] [T] [thread 77765] [7.0] [cxt 0] Applying table 'MyIngress.ipv4_lpm'
[13:35:34.732] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Looking up key:
* hdr.ipv4.dstAddr    : 0a010202

[13:35:34.732] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Table 'MyIngress.ipv4_lpm': hit with handle 1
[13:35:34.732] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Dumping entry 1
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010202/32
Action entry: MyIngress.set_nhop - a010202,2,

[13:35:34.732] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Action entry is MyIngress.set_nhop - a010202,2,
[13:35:34.732] [bmv2] [T] [thread 77765] [7.0] [cxt 0] Action MyIngress.set_nhop
[13:35:34.732] [bmv2] [T] [thread 77765] [7.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(52) Primitive hdr.ethernet.srcAddr = hdr.ethernet.dstAddr
[13:35:34.732] [bmv2] [T] [thread 77765] [7.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(55) Primitive hdr.ethernet.dstAddr = dstAddr
[13:35:34.732] [bmv2] [T] [thread 77765] [7.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(57) Primitive standard_metadata.egress_spec = port
[13:35:34.732] [bmv2] [T] [thread 77765] [7.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(60) Primitive hdr.ipv4.ttl = hdr.ipv4.ttl - 1
[13:35:34.732] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Pipeline 'ingress': end
[13:35:34.732] [bmv2] [D] [thread 77765] [7.0] [cxt 0] Egress port is 2
[13:35:34.732] [bmv2] [D] [thread 77768] [7.0] [cxt 0] Pipeline 'egress': start
[13:35:34.732] [bmv2] [D] [thread 77768] [7.0] [cxt 0] Pipeline 'egress': end
[13:35:34.733] [bmv2] [D] [thread 77768] [7.0] [cxt 0] Deparser 'deparser': start
[13:35:34.733] [bmv2] [D] [thread 77768] [7.0] [cxt 0] Updating checksum 'cksum'
[13:35:34.733] [bmv2] [D] [thread 77768] [7.0] [cxt 0] Deparsing header 'ethernet'
[13:35:34.733] [bmv2] [D] [thread 77768] [7.0] [cxt 0] Deparsing header 'ipv4'
[13:35:34.733] [bmv2] [D] [thread 77768] [7.0] [cxt 0] Deparsing header 'udp'
[13:35:34.733] [bmv2] [D] [thread 77768] [7.0] [cxt 0] Deparser 'deparser': end
[13:35:34.733] [bmv2] [D] [thread 77770] [7.0] [cxt 0] Transmitting packet of size 42 out of port 2
[13:35:40.570] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Processing packet received on port 2
[13:35:40.570] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Parser 'parser': start
[13:35:40.570] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Parser 'parser' entering state 'start'
[13:35:40.570] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Extracting header 'ethernet'
[13:35:40.570] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Parser state 'start': key is 7777
[13:35:40.570] [bmv2] [T] [thread 77765] [8.0] [cxt 0] Bytes parsed: 14
[13:35:40.570] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Parser 'parser' entering state 'parse_netlock'
[13:35:40.570] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Extracting header 'netlock'
[13:35:40.570] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Parser state 'parse_netlock': key is 0000
[13:35:40.570] [bmv2] [T] [thread 77765] [8.0] [cxt 0] Bytes parsed: 16
[13:35:40.570] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Parser 'parser' entering state 'parse_ipv4'
[13:35:40.570] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Extracting header 'ipv4'
[13:35:40.570] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Parser state 'parse_ipv4': key is 11
[13:35:40.570] [bmv2] [T] [thread 77765] [8.0] [cxt 0] Bytes parsed: 36
[13:35:40.570] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Parser 'parser' entering state 'parse_udp'
[13:35:40.570] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Extracting header 'udp'
[13:35:40.570] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Parser state 'parse_udp' has no switch, going to default next state
[13:35:40.570] [bmv2] [T] [thread 77765] [8.0] [cxt 0] Bytes parsed: 44
[13:35:40.570] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Parser 'parser': end
[13:35:40.570] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Pipeline 'ingress': start
[13:35:40.570] [bmv2] [T] [thread 77765] [8.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(163) Condition "hdr.ipv4.isValid()" (node_2) is true
[13:35:40.570] [bmv2] [T] [thread 77765] [8.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(165) Condition "hdr.netlock.isValid() && hdr.udp.isValid()" (node_3) is true
[13:35:40.570] [bmv2] [T] [thread 77765] [8.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(166) Condition "hdr.netlock.act == ACQUIRE" (node_4) is true
[13:35:40.570] [bmv2] [T] [thread 77765] [8.0] [cxt 0] Applying table 'tbl_netlock169'
[13:35:40.570] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Looking up key:

[13:35:40.570] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Table 'tbl_netlock169': miss
[13:35:40.570] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Action entry is netlock169 - 
[13:35:40.570] [bmv2] [T] [thread 77765] [8.0] [cxt 0] Action netlock169
[13:35:40.570] [bmv2] [T] [thread 77765] [8.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(169) Primitive lock_statuses.read(current_status, (bit<32>)0)
[13:35:40.570] [bmv2] [T] [thread 77765] [8.0] [cxt 0] Read register 'MyIngress.lock_statuses' at index 0 read value 1
[13:35:40.570] [bmv2] [T] [thread 77765] [8.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(170) Condition "current_status == UNSET" (node_6) is false
[13:35:40.570] [bmv2] [T] [thread 77765] [8.0] [cxt 0] Applying table 'tbl_push_queue'
[13:35:40.570] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Looking up key:

[13:35:40.570] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Table 'tbl_push_queue': miss
[13:35:40.570] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Action entry is MyIngress.push_queue - 
[13:35:40.570] [bmv2] [T] [thread 77765] [8.0] [cxt 0] Action MyIngress.push_queue
[13:35:40.570] [bmv2] [T] [thread 77765] [8.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(71) Primitive queue_tails.read(tail, (bit<32>)0)
[13:35:40.570] [bmv2] [T] [thread 77765] [8.0] [cxt 0] Read register 'MyIngress.queue_tails' at index 0 read value 1
[13:35:40.570] [bmv2] [T] [thread 77765] [8.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(72) Primitive lock_queue_ip.write(tail, hdr.ipv4.srcAddr)
[13:35:40.570] [bmv2] [T] [thread 77765] [8.0] [cxt 0] Wrote register 'MyIngress.lock_queue_ip' at index 1 with value 167838210
[13:35:40.570] [bmv2] [T] [thread 77765] [8.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(73) Primitive lock_queue_udp.write(tail, hdr.udp.srcPort)
[13:35:40.570] [bmv2] [T] [thread 77765] [8.0] [cxt 0] Wrote register 'MyIngress.lock_queue_udp' at index 1 with value 48467
[13:35:40.571] [bmv2] [T] [thread 77765] [8.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(74) Primitive tail = (tail + 1) % QueueSize
[13:35:40.571] [bmv2] [T] [thread 77765] [8.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(75) Primitive queue_tails.write((bit<32>)0, tail)
[13:35:40.571] [bmv2] [T] [thread 77765] [8.0] [cxt 0] Wrote register 'MyIngress.queue_tails' at index 0 with value 2
[13:35:40.571] [bmv2] [T] [thread 77765] [8.0] [cxt 0] Applying table 'tbl_remove_netlock_0'
[13:35:40.571] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Looking up key:

[13:35:40.571] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Table 'tbl_remove_netlock_0': miss
[13:35:40.571] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Action entry is MyIngress.remove_netlock - 
[13:35:40.571] [bmv2] [T] [thread 77765] [8.0] [cxt 0] Action MyIngress.remove_netlock
[13:35:40.571] [bmv2] [T] [thread 77765] [8.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(91) Primitive hdr.netlock.setInvalid()
[13:35:40.571] [bmv2] [T] [thread 77765] [8.0] [cxt 0] /home/p4/project7/p4src/include/headers.p4(5) Primitive 0x800; ...
[13:35:40.571] [bmv2] [T] [thread 77765] [8.0] [cxt 0] Applying table 'MyIngress.ipv4_lpm'
[13:35:40.571] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Looking up key:
* hdr.ipv4.dstAddr    : 0a010102

[13:35:40.571] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Table 'MyIngress.ipv4_lpm': hit with handle 0
[13:35:40.571] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Dumping entry 0
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010102/32
Action entry: MyIngress.set_nhop - a010102,1,

[13:35:40.571] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Action entry is MyIngress.set_nhop - a010102,1,
[13:35:40.571] [bmv2] [T] [thread 77765] [8.0] [cxt 0] Action MyIngress.set_nhop
[13:35:40.571] [bmv2] [T] [thread 77765] [8.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(52) Primitive hdr.ethernet.srcAddr = hdr.ethernet.dstAddr
[13:35:40.571] [bmv2] [T] [thread 77765] [8.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(55) Primitive hdr.ethernet.dstAddr = dstAddr
[13:35:40.571] [bmv2] [T] [thread 77765] [8.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(57) Primitive standard_metadata.egress_spec = port
[13:35:40.571] [bmv2] [T] [thread 77765] [8.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(60) Primitive hdr.ipv4.ttl = hdr.ipv4.ttl - 1
[13:35:40.571] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Pipeline 'ingress': end
[13:35:40.571] [bmv2] [D] [thread 77765] [8.0] [cxt 0] Egress port is 1
[13:35:40.571] [bmv2] [D] [thread 77767] [8.0] [cxt 0] Pipeline 'egress': start
[13:35:40.571] [bmv2] [D] [thread 77767] [8.0] [cxt 0] Pipeline 'egress': end
[13:35:40.571] [bmv2] [D] [thread 77767] [8.0] [cxt 0] Deparser 'deparser': start
[13:35:40.571] [bmv2] [D] [thread 77767] [8.0] [cxt 0] Updating checksum 'cksum'
[13:35:40.571] [bmv2] [D] [thread 77767] [8.0] [cxt 0] Deparsing header 'ethernet'
[13:35:40.571] [bmv2] [D] [thread 77767] [8.0] [cxt 0] Deparsing header 'ipv4'
[13:35:40.571] [bmv2] [D] [thread 77767] [8.0] [cxt 0] Deparsing header 'udp'
[13:35:40.571] [bmv2] [D] [thread 77767] [8.0] [cxt 0] Deparser 'deparser': end
[13:35:40.571] [bmv2] [D] [thread 77770] [8.0] [cxt 0] Transmitting packet of size 42 out of port 1
[13:35:40.573] [bmv2] [D] [thread 77765] [9.0] [cxt 0] Processing packet received on port 1
[13:35:40.573] [bmv2] [D] [thread 77765] [9.0] [cxt 0] Parser 'parser': start
[13:35:40.573] [bmv2] [D] [thread 77765] [9.0] [cxt 0] Parser 'parser' entering state 'start'
[13:35:40.573] [bmv2] [D] [thread 77765] [9.0] [cxt 0] Extracting header 'ethernet'
[13:35:40.573] [bmv2] [D] [thread 77765] [9.0] [cxt 0] Parser state 'start': key is 0800
[13:35:40.573] [bmv2] [T] [thread 77765] [9.0] [cxt 0] Bytes parsed: 14
[13:35:40.573] [bmv2] [D] [thread 77765] [9.0] [cxt 0] Parser 'parser' entering state 'parse_ipv4'
[13:35:40.573] [bmv2] [D] [thread 77765] [9.0] [cxt 0] Extracting header 'ipv4'
[13:35:40.573] [bmv2] [D] [thread 77765] [9.0] [cxt 0] Parser state 'parse_ipv4': key is 01
[13:35:40.573] [bmv2] [T] [thread 77765] [9.0] [cxt 0] Bytes parsed: 34
[13:35:40.573] [bmv2] [D] [thread 77765] [9.0] [cxt 0] Parser 'parser': end
[13:35:40.573] [bmv2] [D] [thread 77765] [9.0] [cxt 0] Pipeline 'ingress': start
[13:35:40.573] [bmv2] [T] [thread 77765] [9.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(163) Condition "hdr.ipv4.isValid()" (node_2) is true
[13:35:40.573] [bmv2] [T] [thread 77765] [9.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(165) Condition "hdr.netlock.isValid() && hdr.udp.isValid()" (node_3) is false
[13:35:40.573] [bmv2] [T] [thread 77765] [9.0] [cxt 0] Applying table 'MyIngress.ipv4_lpm'
[13:35:40.573] [bmv2] [D] [thread 77765] [9.0] [cxt 0] Looking up key:
* hdr.ipv4.dstAddr    : 0a010202

[13:35:40.573] [bmv2] [D] [thread 77765] [9.0] [cxt 0] Table 'MyIngress.ipv4_lpm': hit with handle 1
[13:35:40.573] [bmv2] [D] [thread 77765] [9.0] [cxt 0] Dumping entry 1
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010202/32
Action entry: MyIngress.set_nhop - a010202,2,

[13:35:40.573] [bmv2] [D] [thread 77765] [9.0] [cxt 0] Action entry is MyIngress.set_nhop - a010202,2,
[13:35:40.573] [bmv2] [T] [thread 77765] [9.0] [cxt 0] Action MyIngress.set_nhop
[13:35:40.574] [bmv2] [T] [thread 77765] [9.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(52) Primitive hdr.ethernet.srcAddr = hdr.ethernet.dstAddr
[13:35:40.574] [bmv2] [T] [thread 77765] [9.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(55) Primitive hdr.ethernet.dstAddr = dstAddr
[13:35:40.574] [bmv2] [T] [thread 77765] [9.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(57) Primitive standard_metadata.egress_spec = port
[13:35:40.574] [bmv2] [T] [thread 77765] [9.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(60) Primitive hdr.ipv4.ttl = hdr.ipv4.ttl - 1
[13:35:40.574] [bmv2] [D] [thread 77765] [9.0] [cxt 0] Pipeline 'ingress': end
[13:35:40.574] [bmv2] [D] [thread 77765] [9.0] [cxt 0] Egress port is 2
[13:35:40.574] [bmv2] [D] [thread 77768] [9.0] [cxt 0] Pipeline 'egress': start
[13:35:40.574] [bmv2] [D] [thread 77768] [9.0] [cxt 0] Pipeline 'egress': end
[13:35:40.574] [bmv2] [D] [thread 77768] [9.0] [cxt 0] Deparser 'deparser': start
[13:35:40.574] [bmv2] [D] [thread 77768] [9.0] [cxt 0] Updating checksum 'cksum'
[13:35:40.574] [bmv2] [D] [thread 77768] [9.0] [cxt 0] Deparsing header 'ethernet'
[13:35:40.574] [bmv2] [D] [thread 77768] [9.0] [cxt 0] Deparsing header 'ipv4'
[13:35:40.574] [bmv2] [D] [thread 77768] [9.0] [cxt 0] Deparser 'deparser': end
[13:35:40.575] [bmv2] [D] [thread 77770] [9.0] [cxt 0] Transmitting packet of size 70 out of port 2
[13:35:51.957] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Processing packet received on port 2
[13:35:51.957] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Parser 'parser': start
[13:35:51.957] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Parser 'parser' entering state 'start'
[13:35:51.957] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Extracting header 'ethernet'
[13:35:51.957] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Parser state 'start': key is 7777
[13:35:51.957] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Bytes parsed: 14
[13:35:51.957] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Parser 'parser' entering state 'parse_netlock'
[13:35:51.957] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Extracting header 'netlock'
[13:35:51.957] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Parser state 'parse_netlock': key is 0000
[13:35:51.957] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Bytes parsed: 16
[13:35:51.957] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Parser 'parser' entering state 'parse_ipv4'
[13:35:51.957] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Extracting header 'ipv4'
[13:35:51.958] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Parser state 'parse_ipv4': key is 11
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Bytes parsed: 36
[13:35:51.958] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Parser 'parser' entering state 'parse_udp'
[13:35:51.958] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Extracting header 'udp'
[13:35:51.958] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Parser state 'parse_udp' has no switch, going to default next state
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Bytes parsed: 44
[13:35:51.958] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Parser 'parser': end
[13:35:51.958] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Pipeline 'ingress': start
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(163) Condition "hdr.ipv4.isValid()" (node_2) is true
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(165) Condition "hdr.netlock.isValid() && hdr.udp.isValid()" (node_3) is true
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(166) Condition "hdr.netlock.act == ACQUIRE" (node_4) is false
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Applying table 'tbl_netlock186'
[13:35:51.958] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Looking up key:

[13:35:51.958] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Table 'tbl_netlock186': miss
[13:35:51.958] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Action entry is netlock186 - 
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Action netlock186
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(186) Primitive acquired_ip.read(correct_addr, (bit<32>)0)
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Read register 'MyIngress.acquired_ip' at index 0 read value 167838210
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(187) Condition "hdr.ipv4.srcAddr == correct_addr" (node_14) is true
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Applying table 'tbl_netlock191'
[13:35:51.958] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Looking up key:

[13:35:51.958] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Table 'tbl_netlock191': miss
[13:35:51.958] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Action entry is netlock191 - 
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Action netlock191
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(191) Primitive queue_heads.read(head, (bit<32>)0)
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Read register 'MyIngress.queue_heads' at index 0 read value 1
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(192) Primitive queue_tails.read(tail, (bit<32>)0)
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Read register 'MyIngress.queue_tails' at index 0 read value 2
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(193) Condition "head == tail" (node_16) is false
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Applying table 'tbl_set_next_ip'
[13:35:51.958] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Looking up key:

[13:35:51.958] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Table 'tbl_set_next_ip': miss
[13:35:51.958] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Action entry is MyIngress.set_next_ip - 
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Action MyIngress.set_next_ip
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(118) Primitive queue_heads.read(head, (bit<32>)0)
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Read register 'MyIngress.queue_heads' at index 0 read value 1
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(120) Primitive lock_queue_ip.read(hostAddr, head)
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Read register 'MyIngress.lock_queue_ip' at index 1 read value 167838210
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(123) Primitive acquired_ip.write((bit<32>)0, hostAddr)
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Wrote register 'MyIngress.acquired_ip' at index 0 with value 167838210
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(126) Primitive hdr.ipv4.srcAddr = hdr.ipv4.dstAddr
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(127) Primitive hdr.ipv4.dstAddr = hostAddr
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Applying table 'tbl_set_next_udp'
[13:35:51.958] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Looking up key:

[13:35:51.958] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Table 'tbl_set_next_udp': miss
[13:35:51.958] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Action entry is MyIngress.set_next_udp - 
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Action MyIngress.set_next_udp
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(134) Primitive queue_heads.read(head, (bit<32>)0)
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Read register 'MyIngress.queue_heads' at index 0 read value 1
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(135) Primitive lock_queue_udp.read(hostPort, head)
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Read register 'MyIngress.lock_queue_udp' at index 1 read value 48467
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(137) Primitive hdr.udp.srcPort = hdr.udp.dstPort
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(138) Primitive hdr.udp.dstPort = hostPort
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Applying table 'tbl_pop_queue'
[13:35:51.958] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Looking up key:

[13:35:51.958] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Table 'tbl_pop_queue': miss
[13:35:51.958] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Action entry is MyIngress.pop_queue - 
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Action MyIngress.pop_queue
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(82) Primitive queue_heads.read(head, (bit<32>)0)
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Read register 'MyIngress.queue_heads' at index 0 read value 1
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(84) Primitive lock_queue_ip.write(head, (bit<32>)0)
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Wrote register 'MyIngress.lock_queue_ip' at index 1 with value 0
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(85) Primitive lock_queue_udp.write(head, (bit<16>)0)
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Wrote register 'MyIngress.lock_queue_udp' at index 1 with value 0
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(86) Primitive head = (head + 1) % QueueSize
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(87) Primitive queue_heads.write((bit<32>)0, head)
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Wrote register 'MyIngress.queue_heads' at index 0 with value 2
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Applying table 'tbl_remove_netlock_2'
[13:35:51.958] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Looking up key:

[13:35:51.958] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Table 'tbl_remove_netlock_2': miss
[13:35:51.958] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Action entry is MyIngress.remove_netlock - 
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Action MyIngress.remove_netlock
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(91) Primitive hdr.netlock.setInvalid()
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/include/headers.p4(5) Primitive 0x800; ...
[13:35:51.958] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Applying table 'MyIngress.ipv4_lpm'
[13:35:51.958] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Looking up key:
* hdr.ipv4.dstAddr    : 0a010202

[13:35:51.958] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Table 'MyIngress.ipv4_lpm': hit with handle 1
[13:35:51.959] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Dumping entry 1
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010202/32
Action entry: MyIngress.set_nhop - a010202,2,

[13:35:51.959] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Action entry is MyIngress.set_nhop - a010202,2,
[13:35:51.959] [bmv2] [T] [thread 77765] [10.0] [cxt 0] Action MyIngress.set_nhop
[13:35:51.959] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(52) Primitive hdr.ethernet.srcAddr = hdr.ethernet.dstAddr
[13:35:51.959] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(55) Primitive hdr.ethernet.dstAddr = dstAddr
[13:35:51.959] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(57) Primitive standard_metadata.egress_spec = port
[13:35:51.959] [bmv2] [T] [thread 77765] [10.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(60) Primitive hdr.ipv4.ttl = hdr.ipv4.ttl - 1
[13:35:51.959] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Pipeline 'ingress': end
[13:35:51.959] [bmv2] [D] [thread 77765] [10.0] [cxt 0] Egress port is 2
[13:35:51.959] [bmv2] [D] [thread 77768] [10.0] [cxt 0] Pipeline 'egress': start
[13:35:51.959] [bmv2] [D] [thread 77768] [10.0] [cxt 0] Pipeline 'egress': end
[13:35:51.959] [bmv2] [D] [thread 77768] [10.0] [cxt 0] Deparser 'deparser': start
[13:35:51.959] [bmv2] [D] [thread 77768] [10.0] [cxt 0] Updating checksum 'cksum'
[13:35:51.959] [bmv2] [D] [thread 77768] [10.0] [cxt 0] Deparsing header 'ethernet'
[13:35:51.959] [bmv2] [D] [thread 77768] [10.0] [cxt 0] Deparsing header 'ipv4'
[13:35:51.959] [bmv2] [D] [thread 77768] [10.0] [cxt 0] Deparsing header 'udp'
[13:35:51.959] [bmv2] [D] [thread 77768] [10.0] [cxt 0] Deparser 'deparser': end
[13:35:51.959] [bmv2] [D] [thread 77770] [10.0] [cxt 0] Transmitting packet of size 42 out of port 2
[13:35:57.012] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Processing packet received on port 2
[13:35:57.012] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Parser 'parser': start
[13:35:57.012] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Parser 'parser' entering state 'start'
[13:35:57.012] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Extracting header 'ethernet'
[13:35:57.012] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Parser state 'start': key is 7777
[13:35:57.012] [bmv2] [T] [thread 77765] [11.0] [cxt 0] Bytes parsed: 14
[13:35:57.012] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Parser 'parser' entering state 'parse_netlock'
[13:35:57.012] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Extracting header 'netlock'
[13:35:57.012] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Parser state 'parse_netlock': key is 0000
[13:35:57.012] [bmv2] [T] [thread 77765] [11.0] [cxt 0] Bytes parsed: 16
[13:35:57.012] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Parser 'parser' entering state 'parse_ipv4'
[13:35:57.012] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Extracting header 'ipv4'
[13:35:57.012] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Parser state 'parse_ipv4': key is 11
[13:35:57.012] [bmv2] [T] [thread 77765] [11.0] [cxt 0] Bytes parsed: 36
[13:35:57.012] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Parser 'parser' entering state 'parse_udp'
[13:35:57.012] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Extracting header 'udp'
[13:35:57.012] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Parser state 'parse_udp' has no switch, going to default next state
[13:35:57.012] [bmv2] [T] [thread 77765] [11.0] [cxt 0] Bytes parsed: 44
[13:35:57.012] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Parser 'parser': end
[13:35:57.012] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Pipeline 'ingress': start
[13:35:57.012] [bmv2] [T] [thread 77765] [11.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(163) Condition "hdr.ipv4.isValid()" (node_2) is true
[13:35:57.012] [bmv2] [T] [thread 77765] [11.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(165) Condition "hdr.netlock.isValid() && hdr.udp.isValid()" (node_3) is true
[13:35:57.012] [bmv2] [T] [thread 77765] [11.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(166) Condition "hdr.netlock.act == ACQUIRE" (node_4) is false
[13:35:57.012] [bmv2] [T] [thread 77765] [11.0] [cxt 0] Applying table 'tbl_netlock186'
[13:35:57.013] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Looking up key:

[13:35:57.013] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Table 'tbl_netlock186': miss
[13:35:57.013] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Action entry is netlock186 - 
[13:35:57.013] [bmv2] [T] [thread 77765] [11.0] [cxt 0] Action netlock186
[13:35:57.013] [bmv2] [T] [thread 77765] [11.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(186) Primitive acquired_ip.read(correct_addr, (bit<32>)0)
[13:35:57.013] [bmv2] [T] [thread 77765] [11.0] [cxt 0] Read register 'MyIngress.acquired_ip' at index 0 read value 167838210
[13:35:57.013] [bmv2] [T] [thread 77765] [11.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(187) Condition "hdr.ipv4.srcAddr == correct_addr" (node_14) is true
[13:35:57.013] [bmv2] [T] [thread 77765] [11.0] [cxt 0] Applying table 'tbl_netlock191'
[13:35:57.013] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Looking up key:

[13:35:57.013] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Table 'tbl_netlock191': miss
[13:35:57.013] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Action entry is netlock191 - 
[13:35:57.013] [bmv2] [T] [thread 77765] [11.0] [cxt 0] Action netlock191
[13:35:57.013] [bmv2] [T] [thread 77765] [11.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(191) Primitive queue_heads.read(head, (bit<32>)0)
[13:35:57.013] [bmv2] [T] [thread 77765] [11.0] [cxt 0] Read register 'MyIngress.queue_heads' at index 0 read value 2
[13:35:57.013] [bmv2] [T] [thread 77765] [11.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(192) Primitive queue_tails.read(tail, (bit<32>)0)
[13:35:57.013] [bmv2] [T] [thread 77765] [11.0] [cxt 0] Read register 'MyIngress.queue_tails' at index 0 read value 2
[13:35:57.013] [bmv2] [T] [thread 77765] [11.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(193) Condition "head == tail" (node_16) is true
[13:35:57.013] [bmv2] [T] [thread 77765] [11.0] [cxt 0] Applying table 'tbl_netlock195'
[13:35:57.013] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Looking up key:

[13:35:57.013] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Table 'tbl_netlock195': miss
[13:35:57.013] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Action entry is netlock195 - 
[13:35:57.013] [bmv2] [T] [thread 77765] [11.0] [cxt 0] Action netlock195
[13:35:57.013] [bmv2] [T] [thread 77765] [11.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(195) Primitive lock_statuses.write((bit<32>)0, UNSET)
[13:35:57.013] [bmv2] [T] [thread 77765] [11.0] [cxt 0] Wrote register 'MyIngress.lock_statuses' at index 0 with value 0
[13:35:57.013] [bmv2] [T] [thread 77765] [11.0] [cxt 0] Applying table 'tbl_remove_netlock_1'
[13:35:57.013] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Looking up key:

[13:35:57.013] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Table 'tbl_remove_netlock_1': miss
[13:35:57.013] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Action entry is MyIngress.remove_netlock - 
[13:35:57.013] [bmv2] [T] [thread 77765] [11.0] [cxt 0] Action MyIngress.remove_netlock
[13:35:57.013] [bmv2] [T] [thread 77765] [11.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(91) Primitive hdr.netlock.setInvalid()
[13:35:57.013] [bmv2] [T] [thread 77765] [11.0] [cxt 0] /home/p4/project7/p4src/include/headers.p4(5) Primitive 0x800; ...
[13:35:57.013] [bmv2] [T] [thread 77765] [11.0] [cxt 0] Applying table 'MyIngress.ipv4_lpm'
[13:35:57.014] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Looking up key:
* hdr.ipv4.dstAddr    : 0a010102

[13:35:57.014] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Table 'MyIngress.ipv4_lpm': hit with handle 0
[13:35:57.014] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Dumping entry 0
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010102/32
Action entry: MyIngress.set_nhop - a010102,1,

[13:35:57.014] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Action entry is MyIngress.set_nhop - a010102,1,
[13:35:57.014] [bmv2] [T] [thread 77765] [11.0] [cxt 0] Action MyIngress.set_nhop
[13:35:57.014] [bmv2] [T] [thread 77765] [11.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(52) Primitive hdr.ethernet.srcAddr = hdr.ethernet.dstAddr
[13:35:57.014] [bmv2] [T] [thread 77765] [11.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(55) Primitive hdr.ethernet.dstAddr = dstAddr
[13:35:57.014] [bmv2] [T] [thread 77765] [11.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(57) Primitive standard_metadata.egress_spec = port
[13:35:57.014] [bmv2] [T] [thread 77765] [11.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(60) Primitive hdr.ipv4.ttl = hdr.ipv4.ttl - 1
[13:35:57.014] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Pipeline 'ingress': end
[13:35:57.014] [bmv2] [D] [thread 77765] [11.0] [cxt 0] Egress port is 1
[13:35:57.014] [bmv2] [D] [thread 77767] [11.0] [cxt 0] Pipeline 'egress': start
[13:35:57.015] [bmv2] [D] [thread 77767] [11.0] [cxt 0] Pipeline 'egress': end
[13:35:57.015] [bmv2] [D] [thread 77767] [11.0] [cxt 0] Deparser 'deparser': start
[13:35:57.015] [bmv2] [D] [thread 77767] [11.0] [cxt 0] Updating checksum 'cksum'
[13:35:57.015] [bmv2] [D] [thread 77767] [11.0] [cxt 0] Deparsing header 'ethernet'
[13:35:57.015] [bmv2] [D] [thread 77767] [11.0] [cxt 0] Deparsing header 'ipv4'
[13:35:57.015] [bmv2] [D] [thread 77767] [11.0] [cxt 0] Deparsing header 'udp'
[13:35:57.015] [bmv2] [D] [thread 77767] [11.0] [cxt 0] Deparser 'deparser': end
[13:35:57.016] [bmv2] [D] [thread 77770] [11.0] [cxt 0] Transmitting packet of size 42 out of port 1
[13:35:57.017] [bmv2] [D] [thread 77765] [12.0] [cxt 0] Processing packet received on port 1
[13:35:57.017] [bmv2] [D] [thread 77765] [12.0] [cxt 0] Parser 'parser': start
[13:35:57.017] [bmv2] [D] [thread 77765] [12.0] [cxt 0] Parser 'parser' entering state 'start'
[13:35:57.017] [bmv2] [D] [thread 77765] [12.0] [cxt 0] Extracting header 'ethernet'
[13:35:57.017] [bmv2] [D] [thread 77765] [12.0] [cxt 0] Parser state 'start': key is 0800
[13:35:57.017] [bmv2] [T] [thread 77765] [12.0] [cxt 0] Bytes parsed: 14
[13:35:57.017] [bmv2] [D] [thread 77765] [12.0] [cxt 0] Parser 'parser' entering state 'parse_ipv4'
[13:35:57.017] [bmv2] [D] [thread 77765] [12.0] [cxt 0] Extracting header 'ipv4'
[13:35:57.017] [bmv2] [D] [thread 77765] [12.0] [cxt 0] Parser state 'parse_ipv4': key is 01
[13:35:57.017] [bmv2] [T] [thread 77765] [12.0] [cxt 0] Bytes parsed: 34
[13:35:57.017] [bmv2] [D] [thread 77765] [12.0] [cxt 0] Parser 'parser': end
[13:35:57.017] [bmv2] [D] [thread 77765] [12.0] [cxt 0] Pipeline 'ingress': start
[13:35:57.017] [bmv2] [T] [thread 77765] [12.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(163) Condition "hdr.ipv4.isValid()" (node_2) is true
[13:35:57.017] [bmv2] [T] [thread 77765] [12.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(165) Condition "hdr.netlock.isValid() && hdr.udp.isValid()" (node_3) is false
[13:35:57.017] [bmv2] [T] [thread 77765] [12.0] [cxt 0] Applying table 'MyIngress.ipv4_lpm'
[13:35:57.018] [bmv2] [D] [thread 77765] [12.0] [cxt 0] Looking up key:
* hdr.ipv4.dstAddr    : 0a010202

[13:35:57.018] [bmv2] [D] [thread 77765] [12.0] [cxt 0] Table 'MyIngress.ipv4_lpm': hit with handle 1
[13:35:57.018] [bmv2] [D] [thread 77765] [12.0] [cxt 0] Dumping entry 1
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010202/32
Action entry: MyIngress.set_nhop - a010202,2,

[13:35:57.018] [bmv2] [D] [thread 77765] [12.0] [cxt 0] Action entry is MyIngress.set_nhop - a010202,2,
[13:35:57.018] [bmv2] [T] [thread 77765] [12.0] [cxt 0] Action MyIngress.set_nhop
[13:35:57.018] [bmv2] [T] [thread 77765] [12.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(52) Primitive hdr.ethernet.srcAddr = hdr.ethernet.dstAddr
[13:35:57.018] [bmv2] [T] [thread 77765] [12.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(55) Primitive hdr.ethernet.dstAddr = dstAddr
[13:35:57.018] [bmv2] [T] [thread 77765] [12.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(57) Primitive standard_metadata.egress_spec = port
[13:35:57.018] [bmv2] [T] [thread 77765] [12.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(60) Primitive hdr.ipv4.ttl = hdr.ipv4.ttl - 1
[13:35:57.018] [bmv2] [D] [thread 77765] [12.0] [cxt 0] Pipeline 'ingress': end
[13:35:57.018] [bmv2] [D] [thread 77765] [12.0] [cxt 0] Egress port is 2
[13:35:57.018] [bmv2] [D] [thread 77768] [12.0] [cxt 0] Pipeline 'egress': start
[13:35:57.018] [bmv2] [D] [thread 77768] [12.0] [cxt 0] Pipeline 'egress': end
[13:35:57.018] [bmv2] [D] [thread 77768] [12.0] [cxt 0] Deparser 'deparser': start
[13:35:57.018] [bmv2] [D] [thread 77768] [12.0] [cxt 0] Updating checksum 'cksum'
[13:35:57.018] [bmv2] [D] [thread 77768] [12.0] [cxt 0] Deparsing header 'ethernet'
[13:35:57.018] [bmv2] [D] [thread 77768] [12.0] [cxt 0] Deparsing header 'ipv4'
[13:35:57.018] [bmv2] [D] [thread 77768] [12.0] [cxt 0] Deparser 'deparser': end
[13:35:57.019] [bmv2] [D] [thread 77770] [12.0] [cxt 0] Transmitting packet of size 70 out of port 2
[13:36:04.588] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Processing packet received on port 2
[13:36:04.588] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Parser 'parser': start
[13:36:04.588] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Parser 'parser' entering state 'start'
[13:36:04.588] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Extracting header 'ethernet'
[13:36:04.588] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Parser state 'start': key is 7777
[13:36:04.588] [bmv2] [T] [thread 77765] [13.0] [cxt 0] Bytes parsed: 14
[13:36:04.589] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Parser 'parser' entering state 'parse_netlock'
[13:36:04.589] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Extracting header 'netlock'
[13:36:04.589] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Parser state 'parse_netlock': key is 0000
[13:36:04.589] [bmv2] [T] [thread 77765] [13.0] [cxt 0] Bytes parsed: 16
[13:36:04.589] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Parser 'parser' entering state 'parse_ipv4'
[13:36:04.589] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Extracting header 'ipv4'
[13:36:04.589] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Parser state 'parse_ipv4': key is 11
[13:36:04.589] [bmv2] [T] [thread 77765] [13.0] [cxt 0] Bytes parsed: 36
[13:36:04.589] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Parser 'parser' entering state 'parse_udp'
[13:36:04.589] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Extracting header 'udp'
[13:36:04.589] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Parser state 'parse_udp' has no switch, going to default next state
[13:36:04.589] [bmv2] [T] [thread 77765] [13.0] [cxt 0] Bytes parsed: 44
[13:36:04.589] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Parser 'parser': end
[13:36:04.589] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Pipeline 'ingress': start
[13:36:04.589] [bmv2] [T] [thread 77765] [13.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(163) Condition "hdr.ipv4.isValid()" (node_2) is true
[13:36:04.589] [bmv2] [T] [thread 77765] [13.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(165) Condition "hdr.netlock.isValid() && hdr.udp.isValid()" (node_3) is true
[13:36:04.589] [bmv2] [T] [thread 77765] [13.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(166) Condition "hdr.netlock.act == ACQUIRE" (node_4) is true
[13:36:04.589] [bmv2] [T] [thread 77765] [13.0] [cxt 0] Applying table 'tbl_netlock169'
[13:36:04.589] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Looking up key:

[13:36:04.589] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Table 'tbl_netlock169': miss
[13:36:04.589] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Action entry is netlock169 - 
[13:36:04.589] [bmv2] [T] [thread 77765] [13.0] [cxt 0] Action netlock169
[13:36:04.589] [bmv2] [T] [thread 77765] [13.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(169) Primitive lock_statuses.read(current_status, (bit<32>)0)
[13:36:04.589] [bmv2] [T] [thread 77765] [13.0] [cxt 0] Read register 'MyIngress.lock_statuses' at index 0 read value 0
[13:36:04.589] [bmv2] [T] [thread 77765] [13.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(170) Condition "current_status == UNSET" (node_6) is true
[13:36:04.589] [bmv2] [T] [thread 77765] [13.0] [cxt 0] Applying table 'tbl_netlock171'
[13:36:04.589] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Looking up key:

[13:36:04.589] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Table 'tbl_netlock171': miss
[13:36:04.590] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Action entry is netlock171 - 
[13:36:04.590] [bmv2] [T] [thread 77765] [13.0] [cxt 0] Action netlock171
[13:36:04.590] [bmv2] [T] [thread 77765] [13.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(171) Primitive lock_statuses.write((bit<32>)0, SET)
[13:36:04.590] [bmv2] [T] [thread 77765] [13.0] [cxt 0] Wrote register 'MyIngress.lock_statuses' at index 0 with value 1
[13:36:04.590] [bmv2] [T] [thread 77765] [13.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(172) Primitive acquired_ip.write((bit<32>)0, hdr.ipv4.srcAddr)
[13:36:04.590] [bmv2] [T] [thread 77765] [13.0] [cxt 0] Wrote register 'MyIngress.acquired_ip' at index 0 with value 167838210
[13:36:04.590] [bmv2] [T] [thread 77765] [13.0] [cxt 0] Applying table 'tbl_remove_netlock'
[13:36:04.590] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Looking up key:

[13:36:04.590] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Table 'tbl_remove_netlock': miss
[13:36:04.590] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Action entry is MyIngress.remove_netlock - 
[13:36:04.590] [bmv2] [T] [thread 77765] [13.0] [cxt 0] Action MyIngress.remove_netlock
[13:36:04.590] [bmv2] [T] [thread 77765] [13.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(91) Primitive hdr.netlock.setInvalid()
[13:36:04.590] [bmv2] [T] [thread 77765] [13.0] [cxt 0] /home/p4/project7/p4src/include/headers.p4(5) Primitive 0x800; ...
[13:36:04.590] [bmv2] [T] [thread 77765] [13.0] [cxt 0] Applying table 'tbl_swap_ip'
[13:36:04.590] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Looking up key:

[13:36:04.590] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Table 'tbl_swap_ip': miss
[13:36:04.590] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Action entry is MyIngress.swap_ip - 
[13:36:04.590] [bmv2] [T] [thread 77765] [13.0] [cxt 0] Action MyIngress.swap_ip
[13:36:04.590] [bmv2] [T] [thread 77765] [13.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(98) Primitive ip4Addr_t tmp = hdr.ipv4.srcAddr;
[13:36:04.590] [bmv2] [T] [thread 77765] [13.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(99) Primitive hdr.ipv4.srcAddr = hdr.ipv4.dstAddr
[13:36:04.590] [bmv2] [T] [thread 77765] [13.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(100) Primitive hdr.ipv4.dstAddr = tmp
[13:36:04.590] [bmv2] [T] [thread 77765] [13.0] [cxt 0] Applying table 'tbl_swap_udp'
[13:36:04.590] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Looking up key:

[13:36:04.590] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Table 'tbl_swap_udp': miss
[13:36:04.590] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Action entry is MyIngress.swap_udp - 
[13:36:04.590] [bmv2] [T] [thread 77765] [13.0] [cxt 0] Action MyIngress.swap_udp
[13:36:04.590] [bmv2] [T] [thread 77765] [13.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(108) Primitive hdr.udp.srcPort = hdr.udp.dstPort
[13:36:04.590] [bmv2] [T] [thread 77765] [13.0] [cxt 0] Applying table 'MyIngress.ipv4_lpm'
[13:36:04.590] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Looking up key:
* hdr.ipv4.dstAddr    : 0a010202

[13:36:04.590] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Table 'MyIngress.ipv4_lpm': hit with handle 1
[13:36:04.591] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Dumping entry 1
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010202/32
Action entry: MyIngress.set_nhop - a010202,2,

[13:36:04.591] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Action entry is MyIngress.set_nhop - a010202,2,
[13:36:04.591] [bmv2] [T] [thread 77765] [13.0] [cxt 0] Action MyIngress.set_nhop
[13:36:04.591] [bmv2] [T] [thread 77765] [13.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(52) Primitive hdr.ethernet.srcAddr = hdr.ethernet.dstAddr
[13:36:04.591] [bmv2] [T] [thread 77765] [13.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(55) Primitive hdr.ethernet.dstAddr = dstAddr
[13:36:04.591] [bmv2] [T] [thread 77765] [13.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(57) Primitive standard_metadata.egress_spec = port
[13:36:04.591] [bmv2] [T] [thread 77765] [13.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(60) Primitive hdr.ipv4.ttl = hdr.ipv4.ttl - 1
[13:36:04.591] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Pipeline 'ingress': end
[13:36:04.591] [bmv2] [D] [thread 77765] [13.0] [cxt 0] Egress port is 2
[13:36:04.591] [bmv2] [D] [thread 77768] [13.0] [cxt 0] Pipeline 'egress': start
[13:36:04.591] [bmv2] [D] [thread 77768] [13.0] [cxt 0] Pipeline 'egress': end
[13:36:04.591] [bmv2] [D] [thread 77768] [13.0] [cxt 0] Deparser 'deparser': start
[13:36:04.591] [bmv2] [D] [thread 77768] [13.0] [cxt 0] Updating checksum 'cksum'
[13:36:04.591] [bmv2] [D] [thread 77768] [13.0] [cxt 0] Deparsing header 'ethernet'
[13:36:04.591] [bmv2] [D] [thread 77768] [13.0] [cxt 0] Deparsing header 'ipv4'
[13:36:04.591] [bmv2] [D] [thread 77768] [13.0] [cxt 0] Deparsing header 'udp'
[13:36:04.591] [bmv2] [D] [thread 77768] [13.0] [cxt 0] Deparser 'deparser': end
[13:36:04.591] [bmv2] [D] [thread 77770] [13.0] [cxt 0] Transmitting packet of size 42 out of port 2
[13:36:14.267] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Processing packet received on port 1
[13:36:14.267] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Parser 'parser': start
[13:36:14.267] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Parser 'parser' entering state 'start'
[13:36:14.267] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Extracting header 'ethernet'
[13:36:14.267] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Parser state 'start': key is 7777
[13:36:14.267] [bmv2] [T] [thread 77765] [14.0] [cxt 0] Bytes parsed: 14
[13:36:14.267] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Parser 'parser' entering state 'parse_netlock'
[13:36:14.267] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Extracting header 'netlock'
[13:36:14.267] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Parser state 'parse_netlock': key is 0000
[13:36:14.267] [bmv2] [T] [thread 77765] [14.0] [cxt 0] Bytes parsed: 16
[13:36:14.267] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Parser 'parser' entering state 'parse_ipv4'
[13:36:14.267] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Extracting header 'ipv4'
[13:36:14.267] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Parser state 'parse_ipv4': key is 11
[13:36:14.267] [bmv2] [T] [thread 77765] [14.0] [cxt 0] Bytes parsed: 36
[13:36:14.267] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Parser 'parser' entering state 'parse_udp'
[13:36:14.267] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Extracting header 'udp'
[13:36:14.267] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Parser state 'parse_udp' has no switch, going to default next state
[13:36:14.267] [bmv2] [T] [thread 77765] [14.0] [cxt 0] Bytes parsed: 44
[13:36:14.267] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Parser 'parser': end
[13:36:14.267] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Pipeline 'ingress': start
[13:36:14.267] [bmv2] [T] [thread 77765] [14.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(163) Condition "hdr.ipv4.isValid()" (node_2) is true
[13:36:14.267] [bmv2] [T] [thread 77765] [14.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(165) Condition "hdr.netlock.isValid() && hdr.udp.isValid()" (node_3) is true
[13:36:14.267] [bmv2] [T] [thread 77765] [14.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(166) Condition "hdr.netlock.act == ACQUIRE" (node_4) is true
[13:36:14.267] [bmv2] [T] [thread 77765] [14.0] [cxt 0] Applying table 'tbl_netlock169'
[13:36:14.267] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Looking up key:

[13:36:14.267] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Table 'tbl_netlock169': miss
[13:36:14.267] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Action entry is netlock169 - 
[13:36:14.267] [bmv2] [T] [thread 77765] [14.0] [cxt 0] Action netlock169
[13:36:14.267] [bmv2] [T] [thread 77765] [14.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(169) Primitive lock_statuses.read(current_status, (bit<32>)0)
[13:36:14.267] [bmv2] [T] [thread 77765] [14.0] [cxt 0] Read register 'MyIngress.lock_statuses' at index 0 read value 1
[13:36:14.267] [bmv2] [T] [thread 77765] [14.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(170) Condition "current_status == UNSET" (node_6) is false
[13:36:14.267] [bmv2] [T] [thread 77765] [14.0] [cxt 0] Applying table 'tbl_push_queue'
[13:36:14.267] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Looking up key:

[13:36:14.267] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Table 'tbl_push_queue': miss
[13:36:14.267] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Action entry is MyIngress.push_queue - 
[13:36:14.267] [bmv2] [T] [thread 77765] [14.0] [cxt 0] Action MyIngress.push_queue
[13:36:14.267] [bmv2] [T] [thread 77765] [14.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(71) Primitive queue_tails.read(tail, (bit<32>)0)
[13:36:14.267] [bmv2] [T] [thread 77765] [14.0] [cxt 0] Read register 'MyIngress.queue_tails' at index 0 read value 2
[13:36:14.267] [bmv2] [T] [thread 77765] [14.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(72) Primitive lock_queue_ip.write(tail, hdr.ipv4.srcAddr)
[13:36:14.268] [bmv2] [T] [thread 77765] [14.0] [cxt 0] Wrote register 'MyIngress.lock_queue_ip' at index 2 with value 167837954
[13:36:14.268] [bmv2] [T] [thread 77765] [14.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(73) Primitive lock_queue_udp.write(tail, hdr.udp.srcPort)
[13:36:14.268] [bmv2] [T] [thread 77765] [14.0] [cxt 0] Wrote register 'MyIngress.lock_queue_udp' at index 2 with value 20540
[13:36:14.268] [bmv2] [T] [thread 77765] [14.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(74) Primitive tail = (tail + 1) % QueueSize
[13:36:14.268] [bmv2] [T] [thread 77765] [14.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(75) Primitive queue_tails.write((bit<32>)0, tail)
[13:36:14.268] [bmv2] [T] [thread 77765] [14.0] [cxt 0] Wrote register 'MyIngress.queue_tails' at index 0 with value 3
[13:36:14.268] [bmv2] [T] [thread 77765] [14.0] [cxt 0] Applying table 'tbl_remove_netlock_0'
[13:36:14.268] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Looking up key:

[13:36:14.268] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Table 'tbl_remove_netlock_0': miss
[13:36:14.268] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Action entry is MyIngress.remove_netlock - 
[13:36:14.268] [bmv2] [T] [thread 77765] [14.0] [cxt 0] Action MyIngress.remove_netlock
[13:36:14.268] [bmv2] [T] [thread 77765] [14.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(91) Primitive hdr.netlock.setInvalid()
[13:36:14.268] [bmv2] [T] [thread 77765] [14.0] [cxt 0] /home/p4/project7/p4src/include/headers.p4(5) Primitive 0x800; ...
[13:36:14.268] [bmv2] [T] [thread 77765] [14.0] [cxt 0] Applying table 'MyIngress.ipv4_lpm'
[13:36:14.268] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Looking up key:
* hdr.ipv4.dstAddr    : 0a010202

[13:36:14.268] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Table 'MyIngress.ipv4_lpm': hit with handle 1
[13:36:14.268] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Dumping entry 1
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010202/32
Action entry: MyIngress.set_nhop - a010202,2,

[13:36:14.268] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Action entry is MyIngress.set_nhop - a010202,2,
[13:36:14.268] [bmv2] [T] [thread 77765] [14.0] [cxt 0] Action MyIngress.set_nhop
[13:36:14.268] [bmv2] [T] [thread 77765] [14.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(52) Primitive hdr.ethernet.srcAddr = hdr.ethernet.dstAddr
[13:36:14.268] [bmv2] [T] [thread 77765] [14.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(55) Primitive hdr.ethernet.dstAddr = dstAddr
[13:36:14.268] [bmv2] [T] [thread 77765] [14.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(57) Primitive standard_metadata.egress_spec = port
[13:36:14.268] [bmv2] [T] [thread 77765] [14.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(60) Primitive hdr.ipv4.ttl = hdr.ipv4.ttl - 1
[13:36:14.268] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Pipeline 'ingress': end
[13:36:14.268] [bmv2] [D] [thread 77765] [14.0] [cxt 0] Egress port is 2
[13:36:14.268] [bmv2] [D] [thread 77768] [14.0] [cxt 0] Pipeline 'egress': start
[13:36:14.268] [bmv2] [D] [thread 77768] [14.0] [cxt 0] Pipeline 'egress': end
[13:36:14.268] [bmv2] [D] [thread 77768] [14.0] [cxt 0] Deparser 'deparser': start
[13:36:14.268] [bmv2] [D] [thread 77768] [14.0] [cxt 0] Updating checksum 'cksum'
[13:36:14.268] [bmv2] [D] [thread 77768] [14.0] [cxt 0] Deparsing header 'ethernet'
[13:36:14.268] [bmv2] [D] [thread 77768] [14.0] [cxt 0] Deparsing header 'ipv4'
[13:36:14.268] [bmv2] [D] [thread 77768] [14.0] [cxt 0] Deparsing header 'udp'
[13:36:14.268] [bmv2] [D] [thread 77768] [14.0] [cxt 0] Deparser 'deparser': end
[13:36:14.268] [bmv2] [D] [thread 77770] [14.0] [cxt 0] Transmitting packet of size 42 out of port 2
[13:36:14.268] [bmv2] [D] [thread 77765] [15.0] [cxt 0] Processing packet received on port 2
[13:36:14.268] [bmv2] [D] [thread 77765] [15.0] [cxt 0] Parser 'parser': start
[13:36:14.268] [bmv2] [D] [thread 77765] [15.0] [cxt 0] Parser 'parser' entering state 'start'
[13:36:14.268] [bmv2] [D] [thread 77765] [15.0] [cxt 0] Extracting header 'ethernet'
[13:36:14.268] [bmv2] [D] [thread 77765] [15.0] [cxt 0] Parser state 'start': key is 0800
[13:36:14.268] [bmv2] [T] [thread 77765] [15.0] [cxt 0] Bytes parsed: 14
[13:36:14.268] [bmv2] [D] [thread 77765] [15.0] [cxt 0] Parser 'parser' entering state 'parse_ipv4'
[13:36:14.268] [bmv2] [D] [thread 77765] [15.0] [cxt 0] Extracting header 'ipv4'
[13:36:14.268] [bmv2] [D] [thread 77765] [15.0] [cxt 0] Parser state 'parse_ipv4': key is 01
[13:36:14.268] [bmv2] [T] [thread 77765] [15.0] [cxt 0] Bytes parsed: 34
[13:36:14.268] [bmv2] [D] [thread 77765] [15.0] [cxt 0] Parser 'parser': end
[13:36:14.268] [bmv2] [D] [thread 77765] [15.0] [cxt 0] Pipeline 'ingress': start
[13:36:14.268] [bmv2] [T] [thread 77765] [15.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(163) Condition "hdr.ipv4.isValid()" (node_2) is true
[13:36:14.268] [bmv2] [T] [thread 77765] [15.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(165) Condition "hdr.netlock.isValid() && hdr.udp.isValid()" (node_3) is false
[13:36:14.268] [bmv2] [T] [thread 77765] [15.0] [cxt 0] Applying table 'MyIngress.ipv4_lpm'
[13:36:14.268] [bmv2] [D] [thread 77765] [15.0] [cxt 0] Looking up key:
* hdr.ipv4.dstAddr    : 0a010102

[13:36:14.268] [bmv2] [D] [thread 77765] [15.0] [cxt 0] Table 'MyIngress.ipv4_lpm': hit with handle 0
[13:36:14.268] [bmv2] [D] [thread 77765] [15.0] [cxt 0] Dumping entry 0
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010102/32
Action entry: MyIngress.set_nhop - a010102,1,

[13:36:14.269] [bmv2] [D] [thread 77765] [15.0] [cxt 0] Action entry is MyIngress.set_nhop - a010102,1,
[13:36:14.269] [bmv2] [T] [thread 77765] [15.0] [cxt 0] Action MyIngress.set_nhop
[13:36:14.269] [bmv2] [T] [thread 77765] [15.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(52) Primitive hdr.ethernet.srcAddr = hdr.ethernet.dstAddr
[13:36:14.269] [bmv2] [T] [thread 77765] [15.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(55) Primitive hdr.ethernet.dstAddr = dstAddr
[13:36:14.269] [bmv2] [T] [thread 77765] [15.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(57) Primitive standard_metadata.egress_spec = port
[13:36:14.269] [bmv2] [T] [thread 77765] [15.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(60) Primitive hdr.ipv4.ttl = hdr.ipv4.ttl - 1
[13:36:14.269] [bmv2] [D] [thread 77765] [15.0] [cxt 0] Pipeline 'ingress': end
[13:36:14.269] [bmv2] [D] [thread 77765] [15.0] [cxt 0] Egress port is 1
[13:36:14.269] [bmv2] [D] [thread 77767] [15.0] [cxt 0] Pipeline 'egress': start
[13:36:14.269] [bmv2] [D] [thread 77767] [15.0] [cxt 0] Pipeline 'egress': end
[13:36:14.269] [bmv2] [D] [thread 77767] [15.0] [cxt 0] Deparser 'deparser': start
[13:36:14.269] [bmv2] [D] [thread 77767] [15.0] [cxt 0] Updating checksum 'cksum'
[13:36:14.269] [bmv2] [D] [thread 77767] [15.0] [cxt 0] Deparsing header 'ethernet'
[13:36:14.269] [bmv2] [D] [thread 77767] [15.0] [cxt 0] Deparsing header 'ipv4'
[13:36:14.269] [bmv2] [D] [thread 77767] [15.0] [cxt 0] Deparser 'deparser': end
[13:36:14.269] [bmv2] [D] [thread 77770] [15.0] [cxt 0] Transmitting packet of size 70 out of port 1
[13:36:33.374] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Processing packet received on port 2
[13:36:33.374] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Parser 'parser': start
[13:36:33.374] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Parser 'parser' entering state 'start'
[13:36:33.374] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Extracting header 'ethernet'
[13:36:33.374] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Parser state 'start': key is 7777
[13:36:33.374] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Bytes parsed: 14
[13:36:33.374] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Parser 'parser' entering state 'parse_netlock'
[13:36:33.374] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Extracting header 'netlock'
[13:36:33.374] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Parser state 'parse_netlock': key is 0000
[13:36:33.374] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Bytes parsed: 16
[13:36:33.374] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Parser 'parser' entering state 'parse_ipv4'
[13:36:33.374] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Extracting header 'ipv4'
[13:36:33.374] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Parser state 'parse_ipv4': key is 11
[13:36:33.374] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Bytes parsed: 36
[13:36:33.374] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Parser 'parser' entering state 'parse_udp'
[13:36:33.374] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Extracting header 'udp'
[13:36:33.374] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Parser state 'parse_udp' has no switch, going to default next state
[13:36:33.374] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Bytes parsed: 44
[13:36:33.374] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Parser 'parser': end
[13:36:33.374] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Pipeline 'ingress': start
[13:36:33.374] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(163) Condition "hdr.ipv4.isValid()" (node_2) is true
[13:36:33.374] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(165) Condition "hdr.netlock.isValid() && hdr.udp.isValid()" (node_3) is true
[13:36:33.374] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(166) Condition "hdr.netlock.act == ACQUIRE" (node_4) is false
[13:36:33.374] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Applying table 'tbl_netlock186'
[13:36:33.375] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Looking up key:

[13:36:33.375] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Table 'tbl_netlock186': miss
[13:36:33.375] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Action entry is netlock186 - 
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Action netlock186
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(186) Primitive acquired_ip.read(correct_addr, (bit<32>)0)
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Read register 'MyIngress.acquired_ip' at index 0 read value 167838210
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(187) Condition "hdr.ipv4.srcAddr == correct_addr" (node_14) is true
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Applying table 'tbl_netlock191'
[13:36:33.375] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Looking up key:

[13:36:33.375] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Table 'tbl_netlock191': miss
[13:36:33.375] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Action entry is netlock191 - 
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Action netlock191
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(191) Primitive queue_heads.read(head, (bit<32>)0)
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Read register 'MyIngress.queue_heads' at index 0 read value 2
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(192) Primitive queue_tails.read(tail, (bit<32>)0)
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Read register 'MyIngress.queue_tails' at index 0 read value 3
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(193) Condition "head == tail" (node_16) is false
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Applying table 'tbl_set_next_ip'
[13:36:33.375] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Looking up key:

[13:36:33.375] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Table 'tbl_set_next_ip': miss
[13:36:33.375] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Action entry is MyIngress.set_next_ip - 
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Action MyIngress.set_next_ip
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(118) Primitive queue_heads.read(head, (bit<32>)0)
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Read register 'MyIngress.queue_heads' at index 0 read value 2
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(120) Primitive lock_queue_ip.read(hostAddr, head)
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Read register 'MyIngress.lock_queue_ip' at index 2 read value 167837954
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(123) Primitive acquired_ip.write((bit<32>)0, hostAddr)
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Wrote register 'MyIngress.acquired_ip' at index 0 with value 167837954
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(126) Primitive hdr.ipv4.srcAddr = hdr.ipv4.dstAddr
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(127) Primitive hdr.ipv4.dstAddr = hostAddr
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Applying table 'tbl_set_next_udp'
[13:36:33.375] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Looking up key:

[13:36:33.375] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Table 'tbl_set_next_udp': miss
[13:36:33.375] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Action entry is MyIngress.set_next_udp - 
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Action MyIngress.set_next_udp
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(134) Primitive queue_heads.read(head, (bit<32>)0)
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Read register 'MyIngress.queue_heads' at index 0 read value 2
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(135) Primitive lock_queue_udp.read(hostPort, head)
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Read register 'MyIngress.lock_queue_udp' at index 2 read value 20540
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(137) Primitive hdr.udp.srcPort = hdr.udp.dstPort
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(138) Primitive hdr.udp.dstPort = hostPort
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Applying table 'tbl_pop_queue'
[13:36:33.375] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Looking up key:

[13:36:33.375] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Table 'tbl_pop_queue': miss
[13:36:33.375] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Action entry is MyIngress.pop_queue - 
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Action MyIngress.pop_queue
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(82) Primitive queue_heads.read(head, (bit<32>)0)
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Read register 'MyIngress.queue_heads' at index 0 read value 2
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(84) Primitive lock_queue_ip.write(head, (bit<32>)0)
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Wrote register 'MyIngress.lock_queue_ip' at index 2 with value 0
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(85) Primitive lock_queue_udp.write(head, (bit<16>)0)
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Wrote register 'MyIngress.lock_queue_udp' at index 2 with value 0
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(86) Primitive head = (head + 1) % QueueSize
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(87) Primitive queue_heads.write((bit<32>)0, head)
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Wrote register 'MyIngress.queue_heads' at index 0 with value 3
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Applying table 'tbl_remove_netlock_2'
[13:36:33.375] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Looking up key:

[13:36:33.375] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Table 'tbl_remove_netlock_2': miss
[13:36:33.375] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Action entry is MyIngress.remove_netlock - 
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Action MyIngress.remove_netlock
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(91) Primitive hdr.netlock.setInvalid()
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/include/headers.p4(5) Primitive 0x800; ...
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Applying table 'MyIngress.ipv4_lpm'
[13:36:33.375] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Looking up key:
* hdr.ipv4.dstAddr    : 0a010102

[13:36:33.375] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Table 'MyIngress.ipv4_lpm': hit with handle 0
[13:36:33.375] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Dumping entry 0
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010102/32
Action entry: MyIngress.set_nhop - a010102,1,

[13:36:33.375] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Action entry is MyIngress.set_nhop - a010102,1,
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] Action MyIngress.set_nhop
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(52) Primitive hdr.ethernet.srcAddr = hdr.ethernet.dstAddr
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(55) Primitive hdr.ethernet.dstAddr = dstAddr
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(57) Primitive standard_metadata.egress_spec = port
[13:36:33.375] [bmv2] [T] [thread 77765] [16.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(60) Primitive hdr.ipv4.ttl = hdr.ipv4.ttl - 1
[13:36:33.375] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Pipeline 'ingress': end
[13:36:33.375] [bmv2] [D] [thread 77765] [16.0] [cxt 0] Egress port is 1
[13:36:33.376] [bmv2] [D] [thread 77767] [16.0] [cxt 0] Pipeline 'egress': start
[13:36:33.376] [bmv2] [D] [thread 77767] [16.0] [cxt 0] Pipeline 'egress': end
[13:36:33.376] [bmv2] [D] [thread 77767] [16.0] [cxt 0] Deparser 'deparser': start
[13:36:33.376] [bmv2] [D] [thread 77767] [16.0] [cxt 0] Updating checksum 'cksum'
[13:36:33.376] [bmv2] [D] [thread 77767] [16.0] [cxt 0] Deparsing header 'ethernet'
[13:36:33.376] [bmv2] [D] [thread 77767] [16.0] [cxt 0] Deparsing header 'ipv4'
[13:36:33.376] [bmv2] [D] [thread 77767] [16.0] [cxt 0] Deparsing header 'udp'
[13:36:33.376] [bmv2] [D] [thread 77767] [16.0] [cxt 0] Deparser 'deparser': end
[13:36:33.376] [bmv2] [D] [thread 77770] [16.0] [cxt 0] Transmitting packet of size 42 out of port 1
