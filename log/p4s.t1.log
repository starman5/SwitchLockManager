Warning: you requested the nanomsg event logger, but bmv2 was compiled without -DBMELOG, and the event logger cannot be activated
Calling target program-options parser
[04:35:38.908] [bmv2] [D] [thread 37952] Set default default entry for table 'tbl_netlock142': netlock142 - 
[04:35:38.909] [bmv2] [D] [thread 37952] Set default default entry for table 'tbl_netlock144': netlock144 - 
[04:35:38.909] [bmv2] [D] [thread 37952] Set default default entry for table 'tbl_swap_ip': MyIngress.swap_ip - 
[04:35:38.909] [bmv2] [D] [thread 37952] Set default default entry for table 'tbl_swap_udp': MyIngress.swap_udp - 
[04:35:38.909] [bmv2] [D] [thread 37952] Set default default entry for table 'tbl_push_queue': MyIngress.push_queue - 
[04:35:38.909] [bmv2] [D] [thread 37952] Set default default entry for table 'tbl_drop': MyIngress.drop - 
[04:35:38.909] [bmv2] [D] [thread 37952] Set default default entry for table 'tbl_netlock160': netlock160 - 
[04:35:38.909] [bmv2] [D] [thread 37952] Set default default entry for table 'tbl_netlock164': netlock164 - 
[04:35:38.910] [bmv2] [D] [thread 37952] Set default default entry for table 'tbl_drop_0': MyIngress.drop - 
[04:35:38.911] [bmv2] [D] [thread 37952] Set default default entry for table 'tbl_set_next_ip': MyIngress.set_next_ip - 
[04:35:38.912] [bmv2] [D] [thread 37952] Set default default entry for table 'tbl_set_next_udp': MyIngress.set_next_udp - 
[04:35:38.913] [bmv2] [D] [thread 37952] Set default default entry for table 'tbl_pop_queue': MyIngress.pop_queue - 
[04:35:38.914] [bmv2] [D] [thread 37952] Set default default entry for table 'tbl_remove_netlock': MyIngress.remove_netlock - 
[04:35:38.914] [bmv2] [D] [thread 37952] Set default default entry for table 'MyIngress.ipv4_lpm': NoAction - 
Adding interface t1-eth1 as port 1
[04:35:38.918] [bmv2] [D] [thread 37952] Adding interface t1-eth1 as port 1
Adding interface t1-eth2 as port 2
[04:35:38.954] [bmv2] [D] [thread 37952] Adding interface t1-eth2 as port 2
Adding interface t1-eth3 as port 3
[04:35:38.982] [bmv2] [D] [thread 37952] Adding interface t1-eth3 as port 3
[04:35:39.010] [bmv2] [I] [thread 37952] Starting Thrift server on port 9090
[04:35:39.011] [bmv2] [I] [thread 37952] Thrift server was started
[04:35:39.023] [bmv2] [D] [thread 37958] [0.0] [cxt 0] Processing packet received on port 2
[04:35:39.023] [bmv2] [D] [thread 37958] [0.0] [cxt 0] Parser 'parser': start
[04:35:39.023] [bmv2] [D] [thread 37958] [0.0] [cxt 0] Parser 'parser' entering state 'start'
[04:35:39.023] [bmv2] [D] [thread 37958] [0.0] [cxt 0] Extracting header 'ethernet'
[04:35:39.023] [bmv2] [D] [thread 37958] [0.0] [cxt 0] Parser state 'start': key is 86dd
[04:35:39.023] [bmv2] [T] [thread 37958] [0.0] [cxt 0] Bytes parsed: 14
[04:35:39.023] [bmv2] [D] [thread 37958] [0.0] [cxt 0] Parser 'parser': end
[04:35:39.023] [bmv2] [D] [thread 37958] [0.0] [cxt 0] Pipeline 'ingress': start
[04:35:39.023] [bmv2] [T] [thread 37958] [0.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(136) Condition "hdr.ipv4.isValid()" (node_2) is false
[04:35:39.023] [bmv2] [D] [thread 37958] [0.0] [cxt 0] Pipeline 'ingress': end
[04:35:39.023] [bmv2] [D] [thread 37958] [0.0] [cxt 0] Egress port is 0
[04:35:39.023] [bmv2] [D] [thread 37959] [0.0] [cxt 0] Pipeline 'egress': start
[04:35:39.023] [bmv2] [D] [thread 37959] [0.0] [cxt 0] Pipeline 'egress': end
[04:35:39.023] [bmv2] [D] [thread 37959] [0.0] [cxt 0] Deparser 'deparser': start
[04:35:39.023] [bmv2] [T] [thread 37959] [0.0] [cxt 0] Skipping checksum 'cksum' update because condition not met
[04:35:39.023] [bmv2] [D] [thread 37959] [0.0] [cxt 0] Deparsing header 'ethernet'
[04:35:39.023] [bmv2] [D] [thread 37959] [0.0] [cxt 0] Deparser 'deparser': end
[04:35:39.023] [bmv2] [D] [thread 37963] [0.0] [cxt 0] Transmitting packet of size 90 out of port 0
[04:35:39.924] [bmv2] [T] [thread 38017] bm_get_config
[04:35:39.926] [bmv2] [T] [thread 38017] bm_mt_get_entries
[04:35:39.927] [bmv2] [T] [thread 38017] bm_reset_state
[04:35:40.047] [bmv2] [D] [thread 38017] Resetting simple_switch target-specific state
[04:35:40.047] [bmv2] [D] [thread 38017] resetting PRE state
[04:35:40.048] [bmv2] [T] [thread 38017] bm_set_default_action
[04:35:40.048] [bmv2] [D] [thread 38017] Set default entry for table 'MyIngress.ipv4_lpm': MyIngress.drop - 
[04:35:40.049] [bmv2] [T] [thread 38017] bm_table_add_entry
[04:35:40.049] [bmv2] [D] [thread 38017] Entry 0 added to table 'MyIngress.ipv4_lpm'
[04:35:40.049] [bmv2] [D] [thread 38017] Dumping entry 0
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010102/32
Action entry: MyIngress.set_nhop - a010102,1,

[04:35:40.049] [bmv2] [T] [thread 38017] bm_table_add_entry
[04:35:40.049] [bmv2] [D] [thread 38017] Entry 1 added to table 'MyIngress.ipv4_lpm'
[04:35:40.049] [bmv2] [D] [thread 38017] Dumping entry 1
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010202/32
Action entry: MyIngress.set_nhop - a010202,2,

[04:35:40.050] [bmv2] [T] [thread 38017] bm_table_add_entry
[04:35:40.050] [bmv2] [D] [thread 38017] Entry 2 added to table 'MyIngress.ipv4_lpm'
[04:35:40.050] [bmv2] [D] [thread 38017] Dumping entry 2
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010302/32
Action entry: MyIngress.set_nhop - a010302,3,

[04:35:45.064] [bmv2] [T] [thread 38063] bm_get_config
[04:35:45.066] [bmv2] [T] [thread 38063] bm_mt_get_entries
[04:35:45.067] [bmv2] [T] [thread 38063] bm_reset_state
[04:35:45.089] [bmv2] [D] [thread 38063] Resetting simple_switch target-specific state
[04:35:45.089] [bmv2] [D] [thread 38063] resetting PRE state
[04:35:45.091] [bmv2] [T] [thread 38063] bm_set_default_action
[04:35:45.091] [bmv2] [D] [thread 38063] Set default entry for table 'MyIngress.ipv4_lpm': MyIngress.drop - 
[04:35:45.093] [bmv2] [T] [thread 38063] bm_table_add_entry
[04:35:45.093] [bmv2] [D] [thread 38063] Entry 0 added to table 'MyIngress.ipv4_lpm'
[04:35:45.093] [bmv2] [D] [thread 38063] Dumping entry 0
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010102/32
Action entry: MyIngress.set_nhop - a010102,1,

[04:35:45.094] [bmv2] [T] [thread 38063] bm_table_add_entry
[04:35:45.094] [bmv2] [D] [thread 38063] Entry 1 added to table 'MyIngress.ipv4_lpm'
[04:35:45.095] [bmv2] [D] [thread 38063] Dumping entry 1
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010202/32
Action entry: MyIngress.set_nhop - a010202,2,

[04:35:45.097] [bmv2] [T] [thread 38063] bm_table_add_entry
[04:35:45.097] [bmv2] [D] [thread 38063] Entry 2 added to table 'MyIngress.ipv4_lpm'
[04:35:45.097] [bmv2] [D] [thread 38063] Dumping entry 2
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010302/32
Action entry: MyIngress.set_nhop - a010302,3,

[04:35:55.017] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Processing packet received on port 1
[04:35:55.017] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Parser 'parser': start
[04:35:55.017] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Parser 'parser' entering state 'start'
[04:35:55.017] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Extracting header 'ethernet'
[04:35:55.017] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Parser state 'start': key is 7777
[04:35:55.017] [bmv2] [T] [thread 37958] [1.0] [cxt 0] Bytes parsed: 14
[04:35:55.017] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Parser 'parser' entering state 'parse_netlock'
[04:35:55.017] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Extracting header 'netlock'
[04:35:55.017] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Parser state 'parse_netlock': key is 0000
[04:35:55.017] [bmv2] [T] [thread 37958] [1.0] [cxt 0] Bytes parsed: 16
[04:35:55.017] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Parser 'parser' entering state 'parse_ipv4'
[04:35:55.017] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Extracting header 'ipv4'
[04:35:55.017] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Parser state 'parse_ipv4': key is 11
[04:35:55.017] [bmv2] [T] [thread 37958] [1.0] [cxt 0] Bytes parsed: 36
[04:35:55.017] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Parser 'parser' entering state 'parse_udp'
[04:35:55.017] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Extracting header 'udp'
[04:35:55.017] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Parser state 'parse_udp' has no switch, going to default next state
[04:35:55.017] [bmv2] [T] [thread 37958] [1.0] [cxt 0] Bytes parsed: 44
[04:35:55.018] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Parser 'parser': end
[04:35:55.019] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Pipeline 'ingress': start
[04:35:55.019] [bmv2] [T] [thread 37958] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(136) Condition "hdr.ipv4.isValid()" (node_2) is true
[04:35:55.019] [bmv2] [T] [thread 37958] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(138) Condition "hdr.netlock.isValid() && hdr.udp.isValid()" (node_3) is true
[04:35:55.019] [bmv2] [T] [thread 37958] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(139) Condition "hdr.netlock.act == 0" (node_4) is true
[04:35:55.019] [bmv2] [T] [thread 37958] [1.0] [cxt 0] Applying table 'tbl_netlock142'
[04:35:55.020] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Looking up key:

[04:35:55.020] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Table 'tbl_netlock142': miss
[04:35:55.020] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Action entry is netlock142 - 
[04:35:55.020] [bmv2] [T] [thread 37958] [1.0] [cxt 0] Action netlock142
[04:35:55.020] [bmv2] [T] [thread 37958] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(142) Primitive lock_statuses.read(current_status, (bit<32>)0)
[04:35:55.021] [bmv2] [T] [thread 37958] [1.0] [cxt 0] Read register 'MyIngress.lock_statuses' at index 0 read value 0
[04:35:55.021] [bmv2] [T] [thread 37958] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(143) Condition "current_status == UNSET" (node_6) is true
[04:35:55.021] [bmv2] [T] [thread 37958] [1.0] [cxt 0] Applying table 'tbl_netlock144'
[04:35:55.021] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Looking up key:

[04:35:55.022] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Table 'tbl_netlock144': miss
[04:35:55.022] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Action entry is netlock144 - 
[04:35:55.022] [bmv2] [T] [thread 37958] [1.0] [cxt 0] Action netlock144
[04:35:55.022] [bmv2] [T] [thread 37958] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(144) Primitive lock_statuses.write((bit<32>)0, SET)
[04:35:55.023] [bmv2] [T] [thread 37958] [1.0] [cxt 0] Wrote register 'MyIngress.lock_statuses' at index 0 with value 1
[04:35:55.023] [bmv2] [T] [thread 37958] [1.0] [cxt 0] Applying table 'tbl_swap_ip'
[04:35:55.023] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Looking up key:

[04:35:55.023] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Table 'tbl_swap_ip': miss
[04:35:55.023] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Action entry is MyIngress.swap_ip - 
[04:35:55.023] [bmv2] [T] [thread 37958] [1.0] [cxt 0] Action MyIngress.swap_ip
[04:35:55.023] [bmv2] [T] [thread 37958] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(80) Primitive ip4Addr_t tmp = hdr.ipv4.srcAddr;
[04:35:55.023] [bmv2] [T] [thread 37958] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(81) Primitive hdr.ipv4.srcAddr = hdr.ipv4.dstAddr
[04:35:55.023] [bmv2] [T] [thread 37958] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(82) Primitive hdr.ipv4.dstAddr = tmp
[04:35:55.023] [bmv2] [T] [thread 37958] [1.0] [cxt 0] Applying table 'tbl_swap_udp'
[04:35:55.023] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Looking up key:

[04:35:55.023] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Table 'tbl_swap_udp': miss
[04:35:55.023] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Action entry is MyIngress.swap_udp - 
[04:35:55.023] [bmv2] [T] [thread 37958] [1.0] [cxt 0] Action MyIngress.swap_udp
[04:35:55.023] [bmv2] [T] [thread 37958] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(88) Primitive hdr.udp.srcPort = hdr.udp.dstPort
[04:35:55.023] [bmv2] [T] [thread 37958] [1.0] [cxt 0] Applying table 'MyIngress.ipv4_lpm'
[04:35:55.023] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Looking up key:
* hdr.ipv4.dstAddr    : 0a010102

[04:35:55.023] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Table 'MyIngress.ipv4_lpm': hit with handle 0
[04:35:55.023] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Dumping entry 0
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010102/32
Action entry: MyIngress.set_nhop - a010102,1,

[04:35:55.023] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Action entry is MyIngress.set_nhop - a010102,1,
[04:35:55.023] [bmv2] [T] [thread 37958] [1.0] [cxt 0] Action MyIngress.set_nhop
[04:35:55.023] [bmv2] [T] [thread 37958] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(39) Primitive hdr.ethernet.srcAddr = hdr.ethernet.dstAddr
[04:35:55.023] [bmv2] [T] [thread 37958] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(42) Primitive hdr.ethernet.dstAddr = dstAddr
[04:35:55.023] [bmv2] [T] [thread 37958] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(44) Primitive standard_metadata.egress_spec = port
[04:35:55.023] [bmv2] [T] [thread 37958] [1.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(47) Primitive hdr.ipv4.ttl = hdr.ipv4.ttl - 1
[04:35:55.023] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Pipeline 'ingress': end
[04:35:55.023] [bmv2] [D] [thread 37958] [1.0] [cxt 0] Egress port is 1
[04:35:55.024] [bmv2] [D] [thread 37960] [1.0] [cxt 0] Pipeline 'egress': start
[04:35:55.024] [bmv2] [D] [thread 37960] [1.0] [cxt 0] Pipeline 'egress': end
[04:35:55.024] [bmv2] [D] [thread 37960] [1.0] [cxt 0] Deparser 'deparser': start
[04:35:55.024] [bmv2] [D] [thread 37960] [1.0] [cxt 0] Updating checksum 'cksum'
[04:35:55.024] [bmv2] [D] [thread 37960] [1.0] [cxt 0] Deparsing header 'ethernet'
[04:35:55.024] [bmv2] [D] [thread 37960] [1.0] [cxt 0] Deparsing header 'netlock'
[04:35:55.024] [bmv2] [D] [thread 37960] [1.0] [cxt 0] Deparsing header 'ipv4'
[04:35:55.024] [bmv2] [D] [thread 37960] [1.0] [cxt 0] Deparsing header 'udp'
[04:35:55.024] [bmv2] [D] [thread 37960] [1.0] [cxt 0] Deparser 'deparser': end
[04:35:55.024] [bmv2] [D] [thread 37963] [1.0] [cxt 0] Transmitting packet of size 44 out of port 1
[04:36:11.317] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Processing packet received on port 1
[04:36:11.317] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Parser 'parser': start
[04:36:11.317] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Parser 'parser' entering state 'start'
[04:36:11.317] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Extracting header 'ethernet'
[04:36:11.317] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Parser state 'start': key is 7777
[04:36:11.317] [bmv2] [T] [thread 37958] [2.0] [cxt 0] Bytes parsed: 14
[04:36:11.317] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Parser 'parser' entering state 'parse_netlock'
[04:36:11.317] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Extracting header 'netlock'
[04:36:11.317] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Parser state 'parse_netlock': key is 0000
[04:36:11.317] [bmv2] [T] [thread 37958] [2.0] [cxt 0] Bytes parsed: 16
[04:36:11.317] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Parser 'parser' entering state 'parse_ipv4'
[04:36:11.317] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Extracting header 'ipv4'
[04:36:11.317] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Parser state 'parse_ipv4': key is 11
[04:36:11.317] [bmv2] [T] [thread 37958] [2.0] [cxt 0] Bytes parsed: 36
[04:36:11.317] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Parser 'parser' entering state 'parse_udp'
[04:36:11.317] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Extracting header 'udp'
[04:36:11.317] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Parser state 'parse_udp' has no switch, going to default next state
[04:36:11.317] [bmv2] [T] [thread 37958] [2.0] [cxt 0] Bytes parsed: 44
[04:36:11.317] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Parser 'parser': end
[04:36:11.317] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Pipeline 'ingress': start
[04:36:11.317] [bmv2] [T] [thread 37958] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(136) Condition "hdr.ipv4.isValid()" (node_2) is true
[04:36:11.317] [bmv2] [T] [thread 37958] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(138) Condition "hdr.netlock.isValid() && hdr.udp.isValid()" (node_3) is true
[04:36:11.317] [bmv2] [T] [thread 37958] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(139) Condition "hdr.netlock.act == 0" (node_4) is true
[04:36:11.317] [bmv2] [T] [thread 37958] [2.0] [cxt 0] Applying table 'tbl_netlock142'
[04:36:11.318] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Looking up key:

[04:36:11.318] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Table 'tbl_netlock142': miss
[04:36:11.318] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Action entry is netlock142 - 
[04:36:11.318] [bmv2] [T] [thread 37958] [2.0] [cxt 0] Action netlock142
[04:36:11.318] [bmv2] [T] [thread 37958] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(142) Primitive lock_statuses.read(current_status, (bit<32>)0)
[04:36:11.318] [bmv2] [T] [thread 37958] [2.0] [cxt 0] Read register 'MyIngress.lock_statuses' at index 0 read value 1
[04:36:11.318] [bmv2] [T] [thread 37958] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(143) Condition "current_status == UNSET" (node_6) is false
[04:36:11.318] [bmv2] [T] [thread 37958] [2.0] [cxt 0] Applying table 'tbl_push_queue'
[04:36:11.318] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Looking up key:

[04:36:11.318] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Table 'tbl_push_queue': miss
[04:36:11.318] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Action entry is MyIngress.push_queue - 
[04:36:11.318] [bmv2] [T] [thread 37958] [2.0] [cxt 0] Action MyIngress.push_queue
[04:36:11.318] [bmv2] [T] [thread 37958] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(56) Primitive queue_tails.read(tail, (bit<32>)0)
[04:36:11.318] [bmv2] [T] [thread 37958] [2.0] [cxt 0] Read register 'MyIngress.queue_tails' at index 0 read value 0
[04:36:11.318] [bmv2] [T] [thread 37958] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(57) Primitive lock_queue_ip.write(tail, hdr.ipv4.srcAddr)
[04:36:11.318] [bmv2] [T] [thread 37958] [2.0] [cxt 0] Wrote register 'MyIngress.lock_queue_ip' at index 0 with value 167837954
[04:36:11.318] [bmv2] [T] [thread 37958] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(58) Primitive lock_queue_udp.write(tail, hdr.udp.srcPort)
[04:36:11.318] [bmv2] [T] [thread 37958] [2.0] [cxt 0] Wrote register 'MyIngress.lock_queue_udp' at index 0 with value 63448
[04:36:11.318] [bmv2] [T] [thread 37958] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(59) Primitive tail = (tail + 1) % QueueSize
[04:36:11.318] [bmv2] [T] [thread 37958] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(60) Primitive queue_tails.write((bit<32>)0, tail)
[04:36:11.318] [bmv2] [T] [thread 37958] [2.0] [cxt 0] Wrote register 'MyIngress.queue_tails' at index 0 with value 1
[04:36:11.318] [bmv2] [T] [thread 37958] [2.0] [cxt 0] Applying table 'tbl_drop'
[04:36:11.318] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Looking up key:

[04:36:11.318] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Table 'tbl_drop': miss
[04:36:11.318] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Action entry is MyIngress.drop - 
[04:36:11.318] [bmv2] [T] [thread 37958] [2.0] [cxt 0] Action MyIngress.drop
[04:36:11.318] [bmv2] [T] [thread 37958] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(51) Primitive mark_to_drop(standard_metadata)
[04:36:11.318] [bmv2] [T] [thread 37958] [2.0] [cxt 0] Applying table 'MyIngress.ipv4_lpm'
[04:36:11.318] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Looking up key:
* hdr.ipv4.dstAddr    : 0a010202

[04:36:11.318] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Table 'MyIngress.ipv4_lpm': hit with handle 1
[04:36:11.318] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Dumping entry 1
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010202/32
Action entry: MyIngress.set_nhop - a010202,2,

[04:36:11.318] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Action entry is MyIngress.set_nhop - a010202,2,
[04:36:11.318] [bmv2] [T] [thread 37958] [2.0] [cxt 0] Action MyIngress.set_nhop
[04:36:11.318] [bmv2] [T] [thread 37958] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(39) Primitive hdr.ethernet.srcAddr = hdr.ethernet.dstAddr
[04:36:11.318] [bmv2] [T] [thread 37958] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(42) Primitive hdr.ethernet.dstAddr = dstAddr
[04:36:11.318] [bmv2] [T] [thread 37958] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(44) Primitive standard_metadata.egress_spec = port
[04:36:11.318] [bmv2] [T] [thread 37958] [2.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(47) Primitive hdr.ipv4.ttl = hdr.ipv4.ttl - 1
[04:36:11.318] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Pipeline 'ingress': end
[04:36:11.318] [bmv2] [D] [thread 37958] [2.0] [cxt 0] Egress port is 2
[04:36:11.319] [bmv2] [D] [thread 37961] [2.0] [cxt 0] Pipeline 'egress': start
[04:36:11.319] [bmv2] [D] [thread 37961] [2.0] [cxt 0] Pipeline 'egress': end
[04:36:11.319] [bmv2] [D] [thread 37961] [2.0] [cxt 0] Deparser 'deparser': start
[04:36:11.319] [bmv2] [D] [thread 37961] [2.0] [cxt 0] Updating checksum 'cksum'
[04:36:11.319] [bmv2] [D] [thread 37961] [2.0] [cxt 0] Deparsing header 'ethernet'
[04:36:11.319] [bmv2] [D] [thread 37961] [2.0] [cxt 0] Deparsing header 'netlock'
[04:36:11.319] [bmv2] [D] [thread 37961] [2.0] [cxt 0] Deparsing header 'ipv4'
[04:36:11.319] [bmv2] [D] [thread 37961] [2.0] [cxt 0] Deparsing header 'udp'
[04:36:11.319] [bmv2] [D] [thread 37961] [2.0] [cxt 0] Deparser 'deparser': end
[04:36:11.319] [bmv2] [D] [thread 37963] [2.0] [cxt 0] Transmitting packet of size 44 out of port 2
[04:36:27.011] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Processing packet received on port 1
[04:36:27.011] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Parser 'parser': start
[04:36:27.011] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Parser 'parser' entering state 'start'
[04:36:27.011] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Extracting header 'ethernet'
[04:36:27.011] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Parser state 'start': key is 7777
[04:36:27.011] [bmv2] [T] [thread 37958] [3.0] [cxt 0] Bytes parsed: 14
[04:36:27.011] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Parser 'parser' entering state 'parse_netlock'
[04:36:27.011] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Extracting header 'netlock'
[04:36:27.011] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Parser state 'parse_netlock': key is 0000
[04:36:27.011] [bmv2] [T] [thread 37958] [3.0] [cxt 0] Bytes parsed: 16
[04:36:27.011] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Parser 'parser' entering state 'parse_ipv4'
[04:36:27.011] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Extracting header 'ipv4'
[04:36:27.011] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Parser state 'parse_ipv4': key is 11
[04:36:27.011] [bmv2] [T] [thread 37958] [3.0] [cxt 0] Bytes parsed: 36
[04:36:27.011] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Parser 'parser' entering state 'parse_udp'
[04:36:27.011] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Extracting header 'udp'
[04:36:27.011] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Parser state 'parse_udp' has no switch, going to default next state
[04:36:27.011] [bmv2] [T] [thread 37958] [3.0] [cxt 0] Bytes parsed: 44
[04:36:27.011] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Parser 'parser': end
[04:36:27.012] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Pipeline 'ingress': start
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(136) Condition "hdr.ipv4.isValid()" (node_2) is true
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(138) Condition "hdr.netlock.isValid() && hdr.udp.isValid()" (node_3) is true
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(139) Condition "hdr.netlock.act == 0" (node_4) is false
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] Applying table 'tbl_netlock160'
[04:36:27.012] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Looking up key:

[04:36:27.012] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Table 'tbl_netlock160': miss
[04:36:27.012] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Action entry is netlock160 - 
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] Action netlock160
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(160) Primitive queue_heads.read(head, (bit<32>)0)
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] Read register 'MyIngress.queue_heads' at index 0 read value 0
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(161) Primitive queue_tails.read(tail, (bit<32>)0)
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] Read register 'MyIngress.queue_tails' at index 0 read value 1
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(162) Condition "head == tail" (node_13) is false
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] Applying table 'tbl_set_next_ip'
[04:36:27.012] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Looking up key:

[04:36:27.012] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Table 'tbl_set_next_ip': miss
[04:36:27.012] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Action entry is MyIngress.set_next_ip - 
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] Action MyIngress.set_next_ip
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(95) Primitive queue_heads.read(head, (bit<32>)0)
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] Read register 'MyIngress.queue_heads' at index 0 read value 0
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(97) Primitive lock_queue_ip.read(hostAddr, head)
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] Read register 'MyIngress.lock_queue_ip' at index 0 read value 167837954
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(100) Primitive hdr.ipv4.srcAddr = hdr.ipv4.dstAddr
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(101) Primitive hdr.ipv4.dstAddr = hostAddr
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] Applying table 'tbl_set_next_udp'
[04:36:27.012] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Looking up key:

[04:36:27.012] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Table 'tbl_set_next_udp': miss
[04:36:27.012] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Action entry is MyIngress.set_next_udp - 
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] Action MyIngress.set_next_udp
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(107) Primitive queue_heads.read(head, (bit<32>)0)
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] Read register 'MyIngress.queue_heads' at index 0 read value 0
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(108) Primitive lock_queue_udp.read(hostPort, head)
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] Read register 'MyIngress.lock_queue_udp' at index 0 read value 63448
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(110) Primitive hdr.udp.srcPort = hdr.udp.dstPort
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(111) Primitive hdr.udp.dstPort = hostPort
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] Applying table 'tbl_pop_queue'
[04:36:27.012] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Looking up key:

[04:36:27.012] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Table 'tbl_pop_queue': miss
[04:36:27.012] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Action entry is MyIngress.pop_queue - 
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] Action MyIngress.pop_queue
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(66) Primitive queue_heads.read(head, (bit<32>)0)
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] Read register 'MyIngress.queue_heads' at index 0 read value 0
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(68) Primitive lock_queue_ip.write(head, (bit<32>)0)
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] Wrote register 'MyIngress.lock_queue_ip' at index 0 with value 0
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(69) Primitive lock_queue_udp.write(head, (bit<16>)0)
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] Wrote register 'MyIngress.lock_queue_udp' at index 0 with value 0
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(70) Primitive head = (head + 1) % QueueSize
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(71) Primitive queue_heads.write((bit<32>)0, head)
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] Wrote register 'MyIngress.queue_heads' at index 0 with value 1
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] Applying table 'tbl_remove_netlock'
[04:36:27.012] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Looking up key:

[04:36:27.012] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Table 'tbl_remove_netlock': miss
[04:36:27.012] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Action entry is MyIngress.remove_netlock - 
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] Action MyIngress.remove_netlock
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(75) Primitive hdr.netlock.setInvalid()
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] /home/p4/project7/p4src/include/headers.p4(5) Primitive 0x800; ...
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] Applying table 'MyIngress.ipv4_lpm'
[04:36:27.012] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Looking up key:
* hdr.ipv4.dstAddr    : 0a010102

[04:36:27.012] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Table 'MyIngress.ipv4_lpm': hit with handle 0
[04:36:27.012] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Dumping entry 0
Match key:
* hdr.ipv4.dstAddr    : LPM       0a010102/32
Action entry: MyIngress.set_nhop - a010102,1,

[04:36:27.012] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Action entry is MyIngress.set_nhop - a010102,1,
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] Action MyIngress.set_nhop
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(39) Primitive hdr.ethernet.srcAddr = hdr.ethernet.dstAddr
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(42) Primitive hdr.ethernet.dstAddr = dstAddr
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(44) Primitive standard_metadata.egress_spec = port
[04:36:27.012] [bmv2] [T] [thread 37958] [3.0] [cxt 0] /home/p4/project7/p4src/netlock.p4(47) Primitive hdr.ipv4.ttl = hdr.ipv4.ttl - 1
[04:36:27.012] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Pipeline 'ingress': end
[04:36:27.012] [bmv2] [D] [thread 37958] [3.0] [cxt 0] Egress port is 1
[04:36:27.012] [bmv2] [D] [thread 37960] [3.0] [cxt 0] Pipeline 'egress': start
[04:36:27.012] [bmv2] [D] [thread 37960] [3.0] [cxt 0] Pipeline 'egress': end
[04:36:27.012] [bmv2] [D] [thread 37960] [3.0] [cxt 0] Deparser 'deparser': start
[04:36:27.012] [bmv2] [D] [thread 37960] [3.0] [cxt 0] Updating checksum 'cksum'
[04:36:27.012] [bmv2] [D] [thread 37960] [3.0] [cxt 0] Deparsing header 'ethernet'
[04:36:27.012] [bmv2] [D] [thread 37960] [3.0] [cxt 0] Deparsing header 'ipv4'
[04:36:27.012] [bmv2] [D] [thread 37960] [3.0] [cxt 0] Deparsing header 'udp'
[04:36:27.013] [bmv2] [D] [thread 37960] [3.0] [cxt 0] Deparser 'deparser': end
[04:36:27.013] [bmv2] [D] [thread 37963] [3.0] [cxt 0] Transmitting packet of size 42 out of port 1
